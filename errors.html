<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 11 Handling Errors | Research Software Engineering with Python</title>
  <meta name="description" content="Chapter 11 Handling Errors | Research Software Engineering with Python" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 11 Handling Errors | Research Software Engineering with Python" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="tugboats-800x600.jpg" />
  
  <meta name="github-repo" content="merely-useful/py-rse" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 11 Handling Errors | Research Software Engineering with Python" />
  
  
  <meta name="twitter:image" content="tugboats-800x600.jpg" />

<meta name="author" content="Damien Irving, Kate Hertweck, Luke Johnston, Joel Ostblom, Charlotte Wickham, and Greg Wilson" />


<meta name="date" content="2020-11-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="config.html"/>
<link rel="next" href="testing.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<link rel="shortcut icon" href="favicon.ico" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Merely Useful</a></strong></li>
<li><img src="tugboats-800x600.jpg" width=267 height=200 style="padding-left:20px;"/></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#intro-big-picture"><i class="fa fa-check"></i><b>0.1</b> The Big Picture</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#intro-personas"><i class="fa fa-check"></i><b>0.2</b> Intended Audience</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#intro-syllabus"><i class="fa fa-check"></i><b>0.3</b> Syllabus</a></li>
<li class="chapter" data-level="0.4" data-path="index.html"><a href="index.html#intro-using"><i class="fa fa-check"></i><b>0.4</b> Using this Book</a></li>
<li class="chapter" data-level="0.5" data-path="index.html"><a href="index.html#contributing-and-re-use"><i class="fa fa-check"></i><b>0.5</b> Contributing and Re-Use</a></li>
<li class="chapter" data-level="0.6" data-path="index.html"><a href="index.html#intro-ack"><i class="fa fa-check"></i><b>0.6</b> Acknowledgments</a></li>
<li class="chapter" data-level="0.7" data-path="index.html"><a href="index.html#dedications"><i class="fa fa-check"></i><b>0.7</b> Dedications</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Getting Started</a>
<ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#getting-started-structure"><i class="fa fa-check"></i><b>1.1</b> Project Structure</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="getting-started.html"><a href="getting-started.html#getting-started-boilerplate"><i class="fa fa-check"></i><b>1.1.1</b> Standard information</a></li>
<li class="chapter" data-level="1.1.2" data-path="getting-started.html"><a href="getting-started.html#getting-started-organize"><i class="fa fa-check"></i><b>1.1.2</b> Organizing project content</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#getting-started-download-data"><i class="fa fa-check"></i><b>1.2</b> Downloading the Data</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#getting-started-install-software"><i class="fa fa-check"></i><b>1.3</b> Installing the Software</a></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#getting-started-summary"><i class="fa fa-check"></i><b>1.4</b> Summary</a></li>
<li class="chapter" data-level="1.5" data-path="getting-started.html"><a href="getting-started.html#getting-started-exercises"><i class="fa fa-check"></i><b>1.5</b> Exercises</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="getting-started.html"><a href="getting-started.html#getting-started-install"><i class="fa fa-check"></i><b>1.5.1</b> Getting ready</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="getting-started.html"><a href="getting-started.html#getting-started-keypoints"><i class="fa fa-check"></i><b>1.6</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="bash-basics.html"><a href="bash-basics.html"><i class="fa fa-check"></i><b>2</b> The Basics of the Unix Shell</a>
<ul>
<li class="chapter" data-level="2.1" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-explore"><i class="fa fa-check"></i><b>2.1</b> Exploring Files and Directories</a></li>
<li class="chapter" data-level="2.2" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-navigate"><i class="fa fa-check"></i><b>2.2</b> Moving Around</a></li>
<li class="chapter" data-level="2.3" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-filedir"><i class="fa fa-check"></i><b>2.3</b> Creating New Files and Directories</a></li>
<li class="chapter" data-level="2.4" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-move"><i class="fa fa-check"></i><b>2.4</b> Moving Files and Directories</a></li>
<li class="chapter" data-level="2.5" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-copy"><i class="fa fa-check"></i><b>2.5</b> Copying Files and Directories</a></li>
<li class="chapter" data-level="2.6" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-rm"><i class="fa fa-check"></i><b>2.6</b> Deleting Files and Directories</a></li>
<li class="chapter" data-level="2.7" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-wildcard"><i class="fa fa-check"></i><b>2.7</b> Wildcards</a></li>
<li class="chapter" data-level="2.8" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-help"><i class="fa fa-check"></i><b>2.8</b> Reading the Manual</a></li>
<li class="chapter" data-level="2.9" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-summary"><i class="fa fa-check"></i><b>2.9</b> Summary</a></li>
<li class="chapter" data-level="2.10" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-exercises"><i class="fa fa-check"></i><b>2.10</b> Exercises</a>
<ul>
<li class="chapter" data-level="2.10.1" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-more-ls"><i class="fa fa-check"></i><b>2.10.1</b> Exploring more <code>ls</code> flags</a></li>
<li class="chapter" data-level="2.10.2" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-ls-rt"><i class="fa fa-check"></i><b>2.10.2</b> Listing recursively and by time</a></li>
<li class="chapter" data-level="2.10.3" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-paths"><i class="fa fa-check"></i><b>2.10.3</b> Absolute and relative paths</a></li>
<li class="chapter" data-level="2.10.4" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-resolve-rel-path"><i class="fa fa-check"></i><b>2.10.4</b> Relative path resolution</a></li>
<li class="chapter" data-level="2.10.5" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-reading-ls"><i class="fa fa-check"></i><b>2.10.5</b> <code>ls</code> reading comprehension</a></li>
<li class="chapter" data-level="2.10.6" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-touch"><i class="fa fa-check"></i><b>2.10.6</b> Creating files a different way</a></li>
<li class="chapter" data-level="2.10.7" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-safe-rm"><i class="fa fa-check"></i><b>2.10.7</b> Using <code>rm</code> safely</a></li>
<li class="chapter" data-level="2.10.8" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-move-dot"><i class="fa fa-check"></i><b>2.10.8</b> Moving to the current folder</a></li>
<li class="chapter" data-level="2.10.9" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-renaming-files"><i class="fa fa-check"></i><b>2.10.9</b> Renaming files</a></li>
<li class="chapter" data-level="2.10.10" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-last-ls"><i class="fa fa-check"></i><b>2.10.10</b> Moving and copying</a></li>
<li class="chapter" data-level="2.10.11" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-copy-multi"><i class="fa fa-check"></i><b>2.10.11</b> Copy with multiple filenames</a></li>
<li class="chapter" data-level="2.10.12" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-ls-match"><i class="fa fa-check"></i><b>2.10.12</b> List filenames matching a pattern</a></li>
<li class="chapter" data-level="2.10.13" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-organizing"><i class="fa fa-check"></i><b>2.10.13</b> Organizing directories and files</a></li>
<li class="chapter" data-level="2.10.14" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-reproduce-structure"><i class="fa fa-check"></i><b>2.10.14</b> Reproduce a directory structure</a></li>
<li class="chapter" data-level="2.10.15" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-wildcard-expressions"><i class="fa fa-check"></i><b>2.10.15</b> Wildcard expressions</a></li>
<li class="chapter" data-level="2.10.16" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-remove-unneeded"><i class="fa fa-check"></i><b>2.10.16</b> Removing unneeded files</a></li>
<li class="chapter" data-level="2.10.17" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-ex-other-wildcards"><i class="fa fa-check"></i><b>2.10.17</b> Other wildcards</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="bash-basics.html"><a href="bash-basics.html#bash-basics-keypoints"><i class="fa fa-check"></i><b>2.11</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="bash-tools.html"><a href="bash-tools.html"><i class="fa fa-check"></i><b>3</b> Building Tools with the Unix Shell</a>
<ul>
<li class="chapter" data-level="3.1" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-pipe"><i class="fa fa-check"></i><b>3.1</b> Combining Commands</a></li>
<li class="chapter" data-level="3.2" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-stdio"><i class="fa fa-check"></i><b>3.2</b> How Pipes Work</a></li>
<li class="chapter" data-level="3.3" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-loops"><i class="fa fa-check"></i><b>3.3</b> Repeating Commands on Many Files</a></li>
<li class="chapter" data-level="3.4" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-meaningless"><i class="fa fa-check"></i><b>3.4</b> Variable Names</a></li>
<li class="chapter" data-level="3.5" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-history"><i class="fa fa-check"></i><b>3.5</b> Redoing Things</a></li>
<li class="chapter" data-level="3.6" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-autoname"><i class="fa fa-check"></i><b>3.6</b> Creating New Filenames Automatically</a></li>
<li class="chapter" data-level="3.7" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-summary"><i class="fa fa-check"></i><b>3.7</b> Summary</a></li>
<li class="chapter" data-level="3.8" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-exercises"><i class="fa fa-check"></i><b>3.8</b> Exercises</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-redirect-append"><i class="fa fa-check"></i><b>3.8.1</b> What does <code>&gt;&gt;</code> mean?</a></li>
<li class="chapter" data-level="3.8.2" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-append-data"><i class="fa fa-check"></i><b>3.8.2</b> Appending data</a></li>
<li class="chapter" data-level="3.8.3" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-piping"><i class="fa fa-check"></i><b>3.8.3</b> Piping commands</a></li>
<li class="chapter" data-level="3.8.4" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-uniq-adjacent"><i class="fa fa-check"></i><b>3.8.4</b> Why does <code>uniq</code> only remove adjacent duplicates?</a></li>
<li class="chapter" data-level="3.8.5" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-reading-pipes"><i class="fa fa-check"></i><b>3.8.5</b> Pipe reading comprehension</a></li>
<li class="chapter" data-level="3.8.6" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-pipe-construction"><i class="fa fa-check"></i><b>3.8.6</b> Pipe construction</a></li>
<li class="chapter" data-level="3.8.7" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-which-pipe"><i class="fa fa-check"></i><b>3.8.7</b> Which pipe?</a></li>
<li class="chapter" data-level="3.8.8" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-loop-dry-run"><i class="fa fa-check"></i><b>3.8.8</b> Doing a dry run</a></li>
<li class="chapter" data-level="3.8.9" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-loop-variables"><i class="fa fa-check"></i><b>3.8.9</b> Variables in loops</a></li>
<li class="chapter" data-level="3.8.10" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-limiting-file-sets"><i class="fa fa-check"></i><b>3.8.10</b> Limiting sets of files</a></li>
<li class="chapter" data-level="3.8.11" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-loop-save"><i class="fa fa-check"></i><b>3.8.11</b> Saving to a file in a loop</a></li>
<li class="chapter" data-level="3.8.12" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-ex-history-order"><i class="fa fa-check"></i><b>3.8.12</b> Why does <code>history</code> record commands before running them?</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="bash-tools.html"><a href="bash-tools.html#bash-tools-keypoints"><i class="fa fa-check"></i><b>3.9</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="bash-advanced.html"><a href="bash-advanced.html"><i class="fa fa-check"></i><b>4</b> Going Further with the Unix Shell</a>
<ul>
<li class="chapter" data-level="4.1" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-script"><i class="fa fa-check"></i><b>4.1</b> Creating New Commands</a></li>
<li class="chapter" data-level="4.2" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-params"><i class="fa fa-check"></i><b>4.2</b> Making Scripts More Versatile</a></li>
<li class="chapter" data-level="4.3" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-capture"><i class="fa fa-check"></i><b>4.3</b> Turning Interactive Work into a Script</a></li>
<li class="chapter" data-level="4.4" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-grep"><i class="fa fa-check"></i><b>4.4</b> Finding Things in Files</a></li>
<li class="chapter" data-level="4.5" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-find"><i class="fa fa-check"></i><b>4.5</b> Finding Files</a></li>
<li class="chapter" data-level="4.6" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-vars"><i class="fa fa-check"></i><b>4.6</b> Configuring the Shell</a></li>
<li class="chapter" data-level="4.7" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-summary"><i class="fa fa-check"></i><b>4.7</b> Summary</a></li>
<li class="chapter" data-level="4.8" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-exercises"><i class="fa fa-check"></i><b>4.8</b> Exercises</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-cleaning-up"><i class="fa fa-check"></i><b>4.8.1</b> Cleaning up</a></li>
<li class="chapter" data-level="4.8.2" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-script-variables"><i class="fa fa-check"></i><b>4.8.2</b> Variables in shell scripts</a></li>
<li class="chapter" data-level="4.8.3" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-longest-with-extension"><i class="fa fa-check"></i><b>4.8.3</b> Find the longest file with a given extension</a></li>
<li class="chapter" data-level="4.8.4" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-reading-scripts"><i class="fa fa-check"></i><b>4.8.4</b> Script reading comprehension</a></li>
<li class="chapter" data-level="4.8.5" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-using-grep"><i class="fa fa-check"></i><b>4.8.5</b> Using <code>grep</code></a></li>
<li class="chapter" data-level="4.8.6" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-year-script"><i class="fa fa-check"></i><b>4.8.6</b> Tracking publication years</a></li>
<li class="chapter" data-level="4.8.7" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-sense-sensibility"><i class="fa fa-check"></i><b>4.8.7</b> Counting names</a></li>
<li class="chapter" data-level="4.8.8" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-match-subtract"><i class="fa fa-check"></i><b>4.8.8</b> Matching and subtracting</a></li>
<li class="chapter" data-level="4.8.9" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-reading-find"><i class="fa fa-check"></i><b>4.8.9</b> <code>find</code> pipeline reading comprehension</a></li>
<li class="chapter" data-level="4.8.10" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-ex-find-tests"><i class="fa fa-check"></i><b>4.8.10</b> Finding files with different properties</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="bash-advanced.html"><a href="bash-advanced.html#bash-advanced-keypoints"><i class="fa fa-check"></i><b>4.9</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="scripting.html"><a href="scripting.html"><i class="fa fa-check"></i><b>5</b> Building Command-Line Tools with Python</a>
<ul>
<li class="chapter" data-level="5.1" data-path="scripting.html"><a href="scripting.html#scripting-main"><i class="fa fa-check"></i><b>5.1</b> Programs and Modules</a></li>
<li class="chapter" data-level="5.2" data-path="scripting.html"><a href="scripting.html#scripting-options"><i class="fa fa-check"></i><b>5.2</b> Handling Command-Line Options</a></li>
<li class="chapter" data-level="5.3" data-path="scripting.html"><a href="scripting.html#scripting-docstrings"><i class="fa fa-check"></i><b>5.3</b> Documentation</a></li>
<li class="chapter" data-level="5.4" data-path="scripting.html"><a href="scripting.html#scripting-wordcount"><i class="fa fa-check"></i><b>5.4</b> Counting Words</a></li>
<li class="chapter" data-level="5.5" data-path="scripting.html"><a href="scripting.html#scripting-pipeline"><i class="fa fa-check"></i><b>5.5</b> Pipelining</a></li>
<li class="chapter" data-level="5.6" data-path="scripting.html"><a href="scripting.html#py-rse-py-scripting-positional-optional"><i class="fa fa-check"></i><b>5.6</b> Positional and Optional Arguments</a></li>
<li class="chapter" data-level="5.7" data-path="scripting.html"><a href="scripting.html#scripting-collate"><i class="fa fa-check"></i><b>5.7</b> Collating Results</a></li>
<li class="chapter" data-level="5.8" data-path="scripting.html"><a href="scripting.html#py-rse-py-scripting-modules"><i class="fa fa-check"></i><b>5.8</b> Writing Our Own Modules</a></li>
<li class="chapter" data-level="5.9" data-path="scripting.html"><a href="scripting.html#scripting-plotting"><i class="fa fa-check"></i><b>5.9</b> Plotting</a></li>
<li class="chapter" data-level="5.10" data-path="scripting.html"><a href="scripting.html#scripting-summary"><i class="fa fa-check"></i><b>5.10</b> Summary</a></li>
<li class="chapter" data-level="5.11" data-path="scripting.html"><a href="scripting.html#scripting-exercises"><i class="fa fa-check"></i><b>5.11</b> Exercises</a>
<ul>
<li class="chapter" data-level="5.11.1" data-path="scripting.html"><a href="scripting.html#scripting-ex-command-line"><i class="fa fa-check"></i><b>5.11.1</b> Running Python statements from the command line</a></li>
<li class="chapter" data-level="5.11.2" data-path="scripting.html"><a href="scripting.html#scripting-ex-glob-ls"><i class="fa fa-check"></i><b>5.11.2</b> Listing files</a></li>
<li class="chapter" data-level="5.11.3" data-path="scripting.html"><a href="scripting.html#scripting-ex-sentence-endings"><i class="fa fa-check"></i><b>5.11.3</b> Sentence ending punctuation</a></li>
<li class="chapter" data-level="5.11.4" data-path="scripting.html"><a href="scripting.html#scripting-ex-better-plotting"><i class="fa fa-check"></i><b>5.11.4</b> A better plotting program</a></li>
</ul></li>
<li class="chapter" data-level="5.12" data-path="scripting.html"><a href="scripting.html#scripting-keypoints"><i class="fa fa-check"></i><b>5.12</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="git-cmdline.html"><a href="git-cmdline.html"><i class="fa fa-check"></i><b>6</b> Using Git at the Command Line</a>
<ul>
<li class="chapter" data-level="6.1" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-setup"><i class="fa fa-check"></i><b>6.1</b> Setting Up</a></li>
<li class="chapter" data-level="6.2" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-repos"><i class="fa fa-check"></i><b>6.2</b> Creating a New Repository</a></li>
<li class="chapter" data-level="6.3" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-add-existing"><i class="fa fa-check"></i><b>6.3</b> Adding Existing Work</a></li>
<li class="chapter" data-level="6.4" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-commit-message"><i class="fa fa-check"></i><b>6.4</b> Describing Commits</a></li>
<li class="chapter" data-level="6.5" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-changes"><i class="fa fa-check"></i><b>6.5</b> Saving and Tracking Changes</a></li>
<li class="chapter" data-level="6.6" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-remotes"><i class="fa fa-check"></i><b>6.6</b> Synchronizing with Other Repositories</a></li>
<li class="chapter" data-level="6.7" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-history"><i class="fa fa-check"></i><b>6.7</b> Exploring History</a></li>
<li class="chapter" data-level="6.8" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-restore"><i class="fa fa-check"></i><b>6.8</b> Restoring Old Versions of Files</a></li>
<li class="chapter" data-level="6.9" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ignore"><i class="fa fa-check"></i><b>6.9</b> Ignoring Files</a></li>
<li class="chapter" data-level="6.10" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-summary"><i class="fa fa-check"></i><b>6.10</b> Summary</a></li>
<li class="chapter" data-level="6.11" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-exercises"><i class="fa fa-check"></i><b>6.11</b> Exercises</a>
<ul>
<li class="chapter" data-level="6.11.1" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-places"><i class="fa fa-check"></i><b>6.11.1</b> Places to create Git repositories</a></li>
<li class="chapter" data-level="6.11.2" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-unsave"><i class="fa fa-check"></i><b>6.11.2</b> Removing before saving</a></li>
<li class="chapter" data-level="6.11.3" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-word-diff"><i class="fa fa-check"></i><b>6.11.3</b> Viewing changes</a></li>
<li class="chapter" data-level="6.11.4" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-commit"><i class="fa fa-check"></i><b>6.11.4</b> Committing changes</a></li>
<li class="chapter" data-level="6.11.5" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-multiple"><i class="fa fa-check"></i><b>6.11.5</b> Committing multiple files</a></li>
<li class="chapter" data-level="6.11.6" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-bio"><i class="fa fa-check"></i><b>6.11.6</b> Write your biography</a></li>
<li class="chapter" data-level="6.11.7" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-ignore-nested"><i class="fa fa-check"></i><b>6.11.7</b> Ignoring nested files</a></li>
<li class="chapter" data-level="6.11.8" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-include"><i class="fa fa-check"></i><b>6.11.8</b> Including specific files</a></li>
<li class="chapter" data-level="6.11.9" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-github-interface"><i class="fa fa-check"></i><b>6.11.9</b> Exploring the GitHub interface</a></li>
<li class="chapter" data-level="6.11.10" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-timestamp"><i class="fa fa-check"></i><b>6.11.10</b> GitHub timestamps</a></li>
<li class="chapter" data-level="6.11.11" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-push-commit"><i class="fa fa-check"></i><b>6.11.11</b> Push versus commit</a></li>
<li class="chapter" data-level="6.11.12" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-boilerplate"><i class="fa fa-check"></i><b>6.11.12</b> License and README files</a></li>
<li class="chapter" data-level="6.11.13" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-recover"><i class="fa fa-check"></i><b>6.11.13</b> Recovering older versions of a file</a></li>
<li class="chapter" data-level="6.11.14" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-history"><i class="fa fa-check"></i><b>6.11.14</b> Workflow and history</a></li>
<li class="chapter" data-level="6.11.15" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-diff"><i class="fa fa-check"></i><b>6.11.15</b> Understanding <code>git diff</code></a></li>
<li class="chapter" data-level="6.11.16" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-unstage"><i class="fa fa-check"></i><b>6.11.16</b> Getting rid of staged changes</a></li>
<li class="chapter" data-level="6.11.17" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-ex-blame"><i class="fa fa-check"></i><b>6.11.17</b> Figuring out who did what</a></li>
</ul></li>
<li class="chapter" data-level="6.12" data-path="git-cmdline.html"><a href="git-cmdline.html#git-cmdline-keypoints"><i class="fa fa-check"></i><b>6.12</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="git-advanced.html"><a href="git-advanced.html"><i class="fa fa-check"></i><b>7</b> Going Further with Git</a>
<ul>
<li class="chapter" data-level="7.1" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-branch-what"><i class="fa fa-check"></i><b>7.1</b> What’s a Branch?</a></li>
<li class="chapter" data-level="7.2" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-branch-how"><i class="fa fa-check"></i><b>7.2</b> Creating a Branch</a></li>
<li class="chapter" data-level="7.3" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-theory"><i class="fa fa-check"></i><b>7.3</b> What Curve Should We Fit?</a></li>
<li class="chapter" data-level="7.4" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-zipf-verify"><i class="fa fa-check"></i><b>7.4</b> Verifying Zipf’s Law</a></li>
<li class="chapter" data-level="7.5" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-merge"><i class="fa fa-check"></i><b>7.5</b> Merging</a></li>
<li class="chapter" data-level="7.6" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-conflict"><i class="fa fa-check"></i><b>7.6</b> Handling Conflicts</a></li>
<li class="chapter" data-level="7.7" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-workflow"><i class="fa fa-check"></i><b>7.7</b> A Branch-Based Workflow</a></li>
<li class="chapter" data-level="7.8" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-fork"><i class="fa fa-check"></i><b>7.8</b> Using Other People’s Work</a></li>
<li class="chapter" data-level="7.9" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-pull-requests"><i class="fa fa-check"></i><b>7.9</b> Pull Requests</a></li>
<li class="chapter" data-level="7.10" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-pr-conflict"><i class="fa fa-check"></i><b>7.10</b> Handling Conflicts in Pull Requests</a></li>
<li class="chapter" data-level="7.11" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-summary"><i class="fa fa-check"></i><b>7.11</b> Summary</a></li>
<li class="chapter" data-level="7.12" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-exercises"><i class="fa fa-check"></i><b>7.12</b> Exercises</a>
<ul>
<li class="chapter" data-level="7.12.1" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-ex-explain-options"><i class="fa fa-check"></i><b>7.12.1</b> Explaining options</a></li>
<li class="chapter" data-level="7.12.2" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-ex-modify-prompt"><i class="fa fa-check"></i><b>7.12.2</b> Modifying prompt</a></li>
<li class="chapter" data-level="7.12.3" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-ex-ignoring-files"><i class="fa fa-check"></i><b>7.12.3</b> Ignoring files</a></li>
<li class="chapter" data-level="7.12.4" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-ex-create-twice"><i class="fa fa-check"></i><b>7.12.4</b> Creating the same file twice</a></li>
<li class="chapter" data-level="7.12.5" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-ex-delete-unmerged"><i class="fa fa-check"></i><b>7.12.5</b> Deleting a branch without merging</a></li>
<li class="chapter" data-level="7.12.6" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-ex-trace-changes"><i class="fa fa-check"></i><b>7.12.6</b> Tracing changes</a></li>
</ul></li>
<li class="chapter" data-level="7.13" data-path="git-advanced.html"><a href="git-advanced.html#git-advanced-keypoints"><i class="fa fa-check"></i><b>7.13</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="teams.html"><a href="teams.html"><i class="fa fa-check"></i><b>8</b> Working in Teams</a>
<ul>
<li class="chapter" data-level="8.1" data-path="teams.html"><a href="teams.html#teams-scope"><i class="fa fa-check"></i><b>8.1</b> What is a Project?</a></li>
<li class="chapter" data-level="8.2" data-path="teams.html"><a href="teams.html#teams-inclusive"><i class="fa fa-check"></i><b>8.2</b> Include Everyone</a></li>
<li class="chapter" data-level="8.3" data-path="teams.html"><a href="teams.html#teams-coc"><i class="fa fa-check"></i><b>8.3</b> Establish a Code of Conduct</a></li>
<li class="chapter" data-level="8.4" data-path="teams.html"><a href="teams.html#teams-license"><i class="fa fa-check"></i><b>8.4</b> Include a License</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="teams.html"><a href="teams.html#teams-license-software"><i class="fa fa-check"></i><b>8.4.1</b> Software</a></li>
<li class="chapter" data-level="8.4.2" data-path="teams.html"><a href="teams.html#teams-license-other"><i class="fa fa-check"></i><b>8.4.2</b> Data and reports</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="teams.html"><a href="teams.html#teams-planning"><i class="fa fa-check"></i><b>8.5</b> Planning</a></li>
<li class="chapter" data-level="8.6" data-path="teams.html"><a href="teams.html#teams-bugs"><i class="fa fa-check"></i><b>8.6</b> Bug Reports</a></li>
<li class="chapter" data-level="8.7" data-path="teams.html"><a href="teams.html#teams-labels"><i class="fa fa-check"></i><b>8.7</b> Labeling Issues</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="teams.html"><a href="teams.html#teams-workflow"><i class="fa fa-check"></i><b>8.7.1</b> Standardizing workflows</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="teams.html"><a href="teams.html#teams-prioritize"><i class="fa fa-check"></i><b>8.8</b> Prioritizing</a></li>
<li class="chapter" data-level="8.9" data-path="teams.html"><a href="teams.html#teams-meetings"><i class="fa fa-check"></i><b>8.9</b> Meetings</a>
<ul>
<li class="chapter" data-level="8.9.1" data-path="teams.html"><a href="teams.html#teams-fair"><i class="fa fa-check"></i><b>8.9.1</b> Air time</a></li>
<li class="chapter" data-level="8.9.2" data-path="teams.html"><a href="teams.html#teams-online"><i class="fa fa-check"></i><b>8.9.2</b> Online meetings</a></li>
</ul></li>
<li class="chapter" data-level="8.10" data-path="teams.html"><a href="teams.html#teams-martha"><i class="fa fa-check"></i><b>8.10</b> Making Decisions</a></li>
<li class="chapter" data-level="8.11" data-path="teams.html"><a href="teams.html#teams-documentation"><i class="fa fa-check"></i><b>8.11</b> Make All This Obvious to Newcomers</a></li>
<li class="chapter" data-level="8.12" data-path="teams.html"><a href="teams.html#teams-conflict"><i class="fa fa-check"></i><b>8.12</b> Handling Conflict</a></li>
<li class="chapter" data-level="8.13" data-path="teams.html"><a href="teams.html#teams-summary"><i class="fa fa-check"></i><b>8.13</b> Summary</a></li>
<li class="chapter" data-level="8.14" data-path="teams.html"><a href="teams.html#teams-exercises"><i class="fa fa-check"></i><b>8.14</b> Exercises</a>
<ul>
<li class="chapter" data-level="8.14.1" data-path="teams.html"><a href="teams.html#teams-ex-scavenger-hunt"><i class="fa fa-check"></i><b>8.14.1</b> Finding information</a></li>
<li class="chapter" data-level="8.14.2" data-path="teams.html"><a href="teams.html#teams-ex-boilerplate-coc"><i class="fa fa-check"></i><b>8.14.2</b> Add a Code of Conduct to your project</a></li>
<li class="chapter" data-level="8.14.3" data-path="teams.html"><a href="teams.html#teams-ex-boilerplate-license"><i class="fa fa-check"></i><b>8.14.3</b> Add a license to your project</a></li>
<li class="chapter" data-level="8.14.4" data-path="teams.html"><a href="teams.html#teams-ex-contributing"><i class="fa fa-check"></i><b>8.14.4</b> Adding contribution guidelines</a></li>
<li class="chapter" data-level="8.14.5" data-path="teams.html"><a href="teams.html#teams-ex-file-issue"><i class="fa fa-check"></i><b>8.14.5</b> File an issue</a></li>
<li class="chapter" data-level="8.14.6" data-path="teams.html"><a href="teams.html#teams-ex-label"><i class="fa fa-check"></i><b>8.14.6</b> Label issues</a></li>
<li class="chapter" data-level="8.14.7" data-path="teams.html"><a href="teams.html#teams-ex-balancing"><i class="fa fa-check"></i><b>8.14.7</b> Balancing individual and team needs</a></li>
<li class="chapter" data-level="8.14.8" data-path="teams.html"><a href="teams.html#teams-ex-invisible"><i class="fa fa-check"></i><b>8.14.8</b> Crediting invisible contributions</a></li>
<li class="chapter" data-level="8.14.9" data-path="teams.html"><a href="teams.html#teams-ex-members"><i class="fa fa-check"></i><b>8.14.9</b> Who are you?</a></li>
</ul></li>
<li class="chapter" data-level="8.15" data-path="teams.html"><a href="teams.html#teams-keypoints"><i class="fa fa-check"></i><b>8.15</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="automate.html"><a href="automate.html"><i class="fa fa-check"></i><b>9</b> Automating Analyses with Make</a>
<ul>
<li class="chapter" data-level="9.1" data-path="automate.html"><a href="automate.html#automate-single-file"><i class="fa fa-check"></i><b>9.1</b> Updating a Single File</a></li>
<li class="chapter" data-level="9.2" data-path="automate.html"><a href="automate.html#automate-multiple"><i class="fa fa-check"></i><b>9.2</b> Managing Multiple Files</a></li>
<li class="chapter" data-level="9.3" data-path="automate.html"><a href="automate.html#automate-depend-programs"><i class="fa fa-check"></i><b>9.3</b> Updating Files When Programs Change</a></li>
<li class="chapter" data-level="9.4" data-path="automate.html"><a href="automate.html#automate-variables"><i class="fa fa-check"></i><b>9.4</b> Reducing Repetition in a Makefile</a></li>
<li class="chapter" data-level="9.5" data-path="automate.html"><a href="automate.html#automate-autovar"><i class="fa fa-check"></i><b>9.5</b> Automatic Variables</a></li>
<li class="chapter" data-level="9.6" data-path="automate.html"><a href="automate.html#automate-pattern"><i class="fa fa-check"></i><b>9.6</b> Generic Rules</a></li>
<li class="chapter" data-level="9.7" data-path="automate.html"><a href="automate.html#automate-functions"><i class="fa fa-check"></i><b>9.7</b> Defining Sets of Files</a></li>
<li class="chapter" data-level="9.8" data-path="automate.html"><a href="automate.html#automate-doc"><i class="fa fa-check"></i><b>9.8</b> Documenting a Makefile</a></li>
<li class="chapter" data-level="9.9" data-path="automate.html"><a href="automate.html#automate-pipeline"><i class="fa fa-check"></i><b>9.9</b> Automating Entire Analyses</a></li>
<li class="chapter" data-level="9.10" data-path="automate.html"><a href="automate.html#automate-summary"><i class="fa fa-check"></i><b>9.10</b> Summary</a></li>
<li class="chapter" data-level="9.11" data-path="automate.html"><a href="automate.html#automate-exercises"><i class="fa fa-check"></i><b>9.11</b> Exercises</a>
<ul>
<li class="chapter" data-level="9.11.1" data-path="automate.html"><a href="automate.html#automate-ex-report-change"><i class="fa fa-check"></i><b>9.11.1</b> Report results that would change</a></li>
<li class="chapter" data-level="9.11.2" data-path="automate.html"><a href="automate.html#automate-ex-useful-options"><i class="fa fa-check"></i><b>9.11.2</b> Useful options</a></li>
<li class="chapter" data-level="9.11.3" data-path="automate.html"><a href="automate.html#automate-ex-mkdir"><i class="fa fa-check"></i><b>9.11.3</b> Make sure the output directory exists</a></li>
<li class="chapter" data-level="9.11.4" data-path="automate.html"><a href="automate.html#automate-ex-print"><i class="fa fa-check"></i><b>9.11.4</b> Print the title and author</a></li>
<li class="chapter" data-level="9.11.5" data-path="automate.html"><a href="automate.html#automate-ex-all-results"><i class="fa fa-check"></i><b>9.11.5</b> Create all results</a></li>
<li class="chapter" data-level="9.11.6" data-path="automate.html"><a href="automate.html#automate-ex-wildcard-perils"><i class="fa fa-check"></i><b>9.11.6</b> The perils of shell wildcards</a></li>
<li class="chapter" data-level="9.11.7" data-path="automate.html"><a href="automate.html#automate-ex-readable-docs"><i class="fa fa-check"></i><b>9.11.7</b> Making documentation more readable</a></li>
</ul></li>
<li class="chapter" data-level="9.12" data-path="automate.html"><a href="automate.html#automate-ex-configuration"><i class="fa fa-check"></i><b>9.12</b> Configuration</a></li>
<li class="chapter" data-level="9.13" data-path="automate.html"><a href="automate.html#automate-keypoints"><i class="fa fa-check"></i><b>9.13</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="config.html"><a href="config.html"><i class="fa fa-check"></i><b>10</b> Configuring Programs</a>
<ul>
<li class="chapter" data-level="10.1" data-path="config.html"><a href="config.html#config-formats"><i class="fa fa-check"></i><b>10.1</b> Configuration File Formats</a></li>
<li class="chapter" data-level="10.2" data-path="config.html"><a href="config.html#config-matplotlib"><i class="fa fa-check"></i><b>10.2</b> Matplotlib Configuration</a></li>
<li class="chapter" data-level="10.3" data-path="config.html"><a href="config.html#config-global"><i class="fa fa-check"></i><b>10.3</b> The Global Configuration File</a></li>
<li class="chapter" data-level="10.4" data-path="config.html"><a href="config.html#config-user"><i class="fa fa-check"></i><b>10.4</b> The User Configuration File</a></li>
<li class="chapter" data-level="10.5" data-path="config.html"><a href="config.html#config-command-line"><i class="fa fa-check"></i><b>10.5</b> Adding Command-Line Options</a></li>
<li class="chapter" data-level="10.6" data-path="config.html"><a href="config.html#config-job-file"><i class="fa fa-check"></i><b>10.6</b> A Job Control File</a></li>
<li class="chapter" data-level="10.7" data-path="config.html"><a href="config.html#config-summary"><i class="fa fa-check"></i><b>10.7</b> Summary</a></li>
<li class="chapter" data-level="10.8" data-path="config.html"><a href="config.html#config-exercises"><i class="fa fa-check"></i><b>10.8</b> Exercises</a>
<ul>
<li class="chapter" data-level="10.8.1" data-path="config.html"><a href="config.html#config-ex-build-plotparams"><i class="fa fa-check"></i><b>10.8.1</b> Building with plotting parameters</a></li>
<li class="chapter" data-level="10.8.2" data-path="config.html"><a href="config.html#config-ex-style"><i class="fa fa-check"></i><b>10.8.2</b> Using different plot styles</a></li>
<li class="chapter" data-level="10.8.3" data-path="config.html"><a href="config.html#config-ex-saveload"><i class="fa fa-check"></i><b>10.8.3</b> Saving configurations</a></li>
<li class="chapter" data-level="10.8.4" data-path="config.html"><a href="config.html#config-ex-ini"><i class="fa fa-check"></i><b>10.8.4</b> Using INI syntax</a></li>
<li class="chapter" data-level="10.8.5" data-path="config.html"><a href="config.html#config-ex-consistency"><i class="fa fa-check"></i><b>10.8.5</b> Configuration consistency</a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="config.html"><a href="config.html#config-keypoints"><i class="fa fa-check"></i><b>10.9</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="errors.html"><a href="errors.html"><i class="fa fa-check"></i><b>11</b> Handling Errors</a>
<ul>
<li class="chapter" data-level="11.1" data-path="errors.html"><a href="errors.html#errors-exceptions"><i class="fa fa-check"></i><b>11.1</b> Exceptions</a></li>
<li class="chapter" data-level="11.2" data-path="errors.html"><a href="errors.html#errors-kind"><i class="fa fa-check"></i><b>11.2</b> Kinds of Errors</a></li>
<li class="chapter" data-level="11.3" data-path="errors.html"><a href="errors.html#errors-messages"><i class="fa fa-check"></i><b>11.3</b> Writing Useful Error Messages</a></li>
<li class="chapter" data-level="11.4" data-path="errors.html"><a href="errors.html#errors-logging"><i class="fa fa-check"></i><b>11.4</b> Reporting Errors</a></li>
<li class="chapter" data-level="11.5" data-path="errors.html"><a href="errors.html#errors-summary"><i class="fa fa-check"></i><b>11.5</b> Summary</a></li>
<li class="chapter" data-level="11.6" data-path="errors.html"><a href="errors.html#errors-exercises"><i class="fa fa-check"></i><b>11.6</b> Exercises</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="errors.html"><a href="errors.html#errors-ex-set-level"><i class="fa fa-check"></i><b>11.6.1</b> Set the logging level</a></li>
<li class="chapter" data-level="11.6.2" data-path="errors.html"><a href="errors.html#errors-ex-logging-output"><i class="fa fa-check"></i><b>11.6.2</b> Send the logging output to file</a></li>
<li class="chapter" data-level="11.6.3" data-path="errors.html"><a href="errors.html#errors-ex-exceptions"><i class="fa fa-check"></i><b>11.6.3</b> Handling exceptions</a></li>
<li class="chapter" data-level="11.6.4" data-path="errors.html"><a href="errors.html#errors-ex-catalog"><i class="fa fa-check"></i><b>11.6.4</b> Error catalogs</a></li>
<li class="chapter" data-level="11.6.5" data-path="errors.html"><a href="errors.html#errors-ex-traceback"><i class="fa fa-check"></i><b>11.6.5</b> Tracebacks</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="errors.html"><a href="errors.html#errors-keypoints"><i class="fa fa-check"></i><b>11.7</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="testing.html"><a href="testing.html"><i class="fa fa-check"></i><b>12</b> Testing Software</a>
<ul>
<li class="chapter" data-level="12.1" data-path="testing.html"><a href="testing.html#testing-assertions"><i class="fa fa-check"></i><b>12.1</b> Assertions</a></li>
<li class="chapter" data-level="12.2" data-path="testing.html"><a href="testing.html#testing-unit"><i class="fa fa-check"></i><b>12.2</b> Unit Testing</a></li>
<li class="chapter" data-level="12.3" data-path="testing.html"><a href="testing.html#testing-framework"><i class="fa fa-check"></i><b>12.3</b> Testing Frameworks</a></li>
<li class="chapter" data-level="12.4" data-path="testing.html"><a href="testing.html#testing-numeric"><i class="fa fa-check"></i><b>12.4</b> Testing Floating-Point Values</a></li>
<li class="chapter" data-level="12.5" data-path="testing.html"><a href="testing.html#testing-failure"><i class="fa fa-check"></i><b>12.5</b> Testing Error Handling</a></li>
<li class="chapter" data-level="12.6" data-path="testing.html"><a href="testing.html#testing-integration"><i class="fa fa-check"></i><b>12.6</b> Integration Testing</a></li>
<li class="chapter" data-level="12.7" data-path="testing.html"><a href="testing.html#testing-regression"><i class="fa fa-check"></i><b>12.7</b> Regression Testing</a></li>
<li class="chapter" data-level="12.8" data-path="testing.html"><a href="testing.html#testing-coverage"><i class="fa fa-check"></i><b>12.8</b> Test Coverage</a></li>
<li class="chapter" data-level="12.9" data-path="testing.html"><a href="testing.html#testing-ci"><i class="fa fa-check"></i><b>12.9</b> Continuous Integration</a></li>
<li class="chapter" data-level="12.10" data-path="testing.html"><a href="testing.html#testing-tdd"><i class="fa fa-check"></i><b>12.10</b> When to Write Tests</a></li>
<li class="chapter" data-level="12.11" data-path="testing.html"><a href="testing.html#testing-summary"><i class="fa fa-check"></i><b>12.11</b> Summary</a></li>
<li class="chapter" data-level="12.12" data-path="testing.html"><a href="testing.html#testing-exercises"><i class="fa fa-check"></i><b>12.12</b> Exercises</a>
<ul>
<li class="chapter" data-level="12.12.1" data-path="testing.html"><a href="testing.html#testing-ex-explain-assertions"><i class="fa fa-check"></i><b>12.12.1</b> Explaining assertions</a></li>
<li class="chapter" data-level="12.12.2" data-path="testing.html"><a href="testing.html#testing-ex-rectangles"><i class="fa fa-check"></i><b>12.12.2</b> Rectangle normalization</a></li>
<li class="chapter" data-level="12.12.3" data-path="testing.html"><a href="testing.html#testing-ex-error-handling"><i class="fa fa-check"></i><b>12.12.3</b> Test error handling</a></li>
<li class="chapter" data-level="12.12.4" data-path="testing.html"><a href="testing.html#testing-ex-random"><i class="fa fa-check"></i><b>12.12.4</b> Testing with randomness</a></li>
<li class="chapter" data-level="12.12.5" data-path="testing.html"><a href="testing.html#testing-ex-relative-error"><i class="fa fa-check"></i><b>12.12.5</b> Testing with relative error</a></li>
</ul></li>
<li class="chapter" data-level="12.13" data-path="testing.html"><a href="testing.html#testing-keypoints"><i class="fa fa-check"></i><b>12.13</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="provenance.html"><a href="provenance.html"><i class="fa fa-check"></i><b>13</b> Tracking Provenance</a>
<ul>
<li class="chapter" data-level="13.1" data-path="provenance.html"><a href="provenance.html#provenance-data"><i class="fa fa-check"></i><b>13.1</b> Data Provenance</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="provenance.html"><a href="provenance.html#provenance-data-fair"><i class="fa fa-check"></i><b>13.1.1</b> The FAIR Principles</a></li>
<li class="chapter" data-level="13.1.2" data-path="provenance.html"><a href="provenance.html#provenance-data-where"><i class="fa fa-check"></i><b>13.1.2</b> Where to archive data</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="provenance.html"><a href="provenance.html#provenance-code"><i class="fa fa-check"></i><b>13.2</b> Code Provenance</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="provenance.html"><a href="provenance.html#provenance-code-environment"><i class="fa fa-check"></i><b>13.2.1</b> Software environment</a></li>
<li class="chapter" data-level="13.2.2" data-path="provenance.html"><a href="provenance.html#provenance-code-steps"><i class="fa fa-check"></i><b>13.2.2</b> Data processing steps</a></li>
<li class="chapter" data-level="13.2.3" data-path="provenance.html"><a href="provenance.html#provenance-code-scripts"><i class="fa fa-check"></i><b>13.2.3</b> Analysis scripts</a></li>
<li class="chapter" data-level="13.2.4" data-path="provenance.html"><a href="provenance.html#provenance-inspectability"><i class="fa fa-check"></i><b>13.2.4</b> Reproducibility versus inspectability</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="provenance.html"><a href="provenance.html#provenance-summary"><i class="fa fa-check"></i><b>13.3</b> Summary</a></li>
<li class="chapter" data-level="13.4" data-path="provenance.html"><a href="provenance.html#provenance-exercises"><i class="fa fa-check"></i><b>13.4</b> Exercises</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="provenance.html"><a href="provenance.html#provenance-ex-get-orcid"><i class="fa fa-check"></i><b>13.4.1</b> ORCID</a></li>
<li class="chapter" data-level="13.4.2" data-path="provenance.html"><a href="provenance.html#provenance-ex-fair-test"><i class="fa fa-check"></i><b>13.4.2</b> A FAIR test</a></li>
<li class="chapter" data-level="13.4.3" data-path="provenance.html"><a href="provenance.html#provenance-ex-understand-project"><i class="fa fa-check"></i><b>13.4.3</b> Evaluate a project’s data provenance</a></li>
<li class="chapter" data-level="13.4.4" data-path="provenance.html"><a href="provenance.html#provenance-ex-eval-code"><i class="fa fa-check"></i><b>13.4.4</b> Evaluate a project’s code provenance</a></li>
<li class="chapter" data-level="13.4.5" data-path="provenance.html"><a href="provenance.html#provenance-ex-permanent-links"><i class="fa fa-check"></i><b>13.4.5</b> Making permanent links</a></li>
<li class="chapter" data-level="13.4.6" data-path="provenance.html"><a href="provenance.html#provenance-ex-release"><i class="fa fa-check"></i><b>13.4.6</b> Create an archive of your Zipf’s analysis</a></li>
<li class="chapter" data-level="13.4.7" data-path="provenance.html"><a href="provenance.html#provenance-ex-publish-code"><i class="fa fa-check"></i><b>13.4.7</b> Publishing your code</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="provenance.html"><a href="provenance.html#publish-keypoints"><i class="fa fa-check"></i><b>13.5</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="packaging.html"><a href="packaging.html"><i class="fa fa-check"></i><b>14</b> Creating Packages with Python</a>
<ul>
<li class="chapter" data-level="14.1" data-path="packaging.html"><a href="packaging.html#packaging-package"><i class="fa fa-check"></i><b>14.1</b> Creating a Python Package</a></li>
<li class="chapter" data-level="14.2" data-path="packaging.html"><a href="packaging.html#packaging-virtualenv"><i class="fa fa-check"></i><b>14.2</b> Virtual Environments</a></li>
<li class="chapter" data-level="14.3" data-path="packaging.html"><a href="packaging.html#packaging-installing"><i class="fa fa-check"></i><b>14.3</b> Installing a Development Package</a></li>
<li class="chapter" data-level="14.4" data-path="packaging.html"><a href="packaging.html#packaging-installation"><i class="fa fa-check"></i><b>14.4</b> What Installation Does</a></li>
<li class="chapter" data-level="14.5" data-path="packaging.html"><a href="packaging.html#packaging-distribute"><i class="fa fa-check"></i><b>14.5</b> Distributing Packages</a></li>
<li class="chapter" data-level="14.6" data-path="packaging.html"><a href="packaging.html#packaging-document"><i class="fa fa-check"></i><b>14.6</b> Documenting Packages</a>
<ul>
<li class="chapter" data-level="14.6.1" data-path="packaging.html"><a href="packaging.html#packaging-readme"><i class="fa fa-check"></i><b>14.6.1</b> Including package-level documentation in the <code>README</code></a></li>
<li class="chapter" data-level="14.6.2" data-path="packaging.html"><a href="packaging.html#packaging-sphinx"><i class="fa fa-check"></i><b>14.6.2</b> Creating a web page for documentation</a></li>
<li class="chapter" data-level="14.6.3" data-path="packaging.html"><a href="packaging.html#packaging-rtd"><i class="fa fa-check"></i><b>14.6.3</b> Hosting documentation online</a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="packaging.html"><a href="packaging.html#packaging-software-journals"><i class="fa fa-check"></i><b>14.7</b> Software Journals</a></li>
<li class="chapter" data-level="14.8" data-path="packaging.html"><a href="packaging.html#packaging-summary"><i class="fa fa-check"></i><b>14.8</b> Summary</a></li>
<li class="chapter" data-level="14.9" data-path="packaging.html"><a href="packaging.html#exercises"><i class="fa fa-check"></i><b>14.9</b> Exercises</a>
<ul>
<li class="chapter" data-level="14.9.1" data-path="packaging.html"><a href="packaging.html#packaging-ex-fixing-warnings"><i class="fa fa-check"></i><b>14.9.1</b> Fixing warnings</a></li>
<li class="chapter" data-level="14.9.2" data-path="packaging.html"><a href="packaging.html#packaging-ex-separating-requirements"><i class="fa fa-check"></i><b>14.9.2</b> Separating requirements</a></li>
<li class="chapter" data-level="14.9.3" data-path="packaging.html"><a href="packaging.html#packaging-ex-software-review"><i class="fa fa-check"></i><b>14.9.3</b> Software review</a></li>
<li class="chapter" data-level="14.9.4" data-path="packaging.html"><a href="packaging.html#packaging-ex-up-to-date"><i class="fa fa-check"></i><b>14.9.4</b> Staying up to date</a></li>
<li class="chapter" data-level="14.9.5" data-path="packaging.html"><a href="packaging.html#packaging-ex-pratchett"><i class="fa fa-check"></i><b>14.9.5</b> Packaging quotations</a></li>
</ul></li>
<li class="chapter" data-level="14.10" data-path="packaging.html"><a href="packaging.html#packaging-keypoints"><i class="fa fa-check"></i><b>14.10</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="finale.html"><a href="finale.html"><i class="fa fa-check"></i><b>15</b> Finale</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i><b>A</b> Glossary</a></li>
<li class="chapter" data-level="B" data-path="objectives.html"><a href="objectives.html"><i class="fa fa-check"></i><b>B</b> Learning Objectives</a>
<ul>
<li class="chapter" data-level="B.1" data-path="objectives.html"><a href="objectives.html#getting-started-1"><i class="fa fa-check"></i><b>B.1</b> Getting Started</a></li>
<li class="chapter" data-level="B.2" data-path="objectives.html"><a href="objectives.html#the-basics-of-the-unix-shell"><i class="fa fa-check"></i><b>B.2</b> The Basics of the Unix Shell</a></li>
<li class="chapter" data-level="B.3" data-path="objectives.html"><a href="objectives.html#building-tools-with-the-unix-shell"><i class="fa fa-check"></i><b>B.3</b> Building Tools with the Unix Shell</a></li>
<li class="chapter" data-level="B.4" data-path="objectives.html"><a href="objectives.html#going-further-with-the-unix-shell"><i class="fa fa-check"></i><b>B.4</b> Going Further with the Unix Shell</a></li>
<li class="chapter" data-level="B.5" data-path="objectives.html"><a href="objectives.html#building-command-line-tools-with-python"><i class="fa fa-check"></i><b>B.5</b> Building Command-Line Tools with Python</a></li>
<li class="chapter" data-level="B.6" data-path="objectives.html"><a href="objectives.html#using-git-at-the-command-line"><i class="fa fa-check"></i><b>B.6</b> Using Git at the Command Line</a></li>
<li class="chapter" data-level="B.7" data-path="objectives.html"><a href="objectives.html#going-further-with-git"><i class="fa fa-check"></i><b>B.7</b> Going Further with Git</a></li>
<li class="chapter" data-level="B.8" data-path="objectives.html"><a href="objectives.html#working-in-teams"><i class="fa fa-check"></i><b>B.8</b> Working in Teams</a></li>
<li class="chapter" data-level="B.9" data-path="objectives.html"><a href="objectives.html#automating-analyses-with-make"><i class="fa fa-check"></i><b>B.9</b> Automating Analyses with Make</a></li>
<li class="chapter" data-level="B.10" data-path="objectives.html"><a href="objectives.html#configuring-programs"><i class="fa fa-check"></i><b>B.10</b> Configuring Programs</a></li>
<li class="chapter" data-level="B.11" data-path="objectives.html"><a href="objectives.html#handling-errors"><i class="fa fa-check"></i><b>B.11</b> Handling Errors</a></li>
<li class="chapter" data-level="B.12" data-path="objectives.html"><a href="objectives.html#testing-software"><i class="fa fa-check"></i><b>B.12</b> Testing Software</a></li>
<li class="chapter" data-level="B.13" data-path="objectives.html"><a href="objectives.html#tracking-provenance"><i class="fa fa-check"></i><b>B.13</b> Tracking Provenance</a></li>
<li class="chapter" data-level="B.14" data-path="objectives.html"><a href="objectives.html#creating-packages-with-python"><i class="fa fa-check"></i><b>B.14</b> Creating Packages with Python</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="keypoints.html"><a href="keypoints.html"><i class="fa fa-check"></i><b>C</b> Key Points</a>
<ul>
<li class="chapter" data-level="C.1" data-path="keypoints.html"><a href="keypoints.html#getting-started-2"><i class="fa fa-check"></i><b>C.1</b> Getting Started</a></li>
<li class="chapter" data-level="C.2" data-path="keypoints.html"><a href="keypoints.html#the-basics-of-the-unix-shell-1"><i class="fa fa-check"></i><b>C.2</b> The Basics of the Unix Shell</a></li>
<li class="chapter" data-level="C.3" data-path="keypoints.html"><a href="keypoints.html#building-tools-with-the-unix-shell-1"><i class="fa fa-check"></i><b>C.3</b> Building Tools with the Unix Shell</a></li>
<li class="chapter" data-level="C.4" data-path="keypoints.html"><a href="keypoints.html#going-further-with-the-unix-shell-1"><i class="fa fa-check"></i><b>C.4</b> Going Further with the Unix Shell</a></li>
<li class="chapter" data-level="C.5" data-path="keypoints.html"><a href="keypoints.html#building-command-line-programs-in-python"><i class="fa fa-check"></i><b>C.5</b> Building Command-Line Programs in Python</a></li>
<li class="chapter" data-level="C.6" data-path="keypoints.html"><a href="keypoints.html#using-git-at-the-command-line-1"><i class="fa fa-check"></i><b>C.6</b> Using Git at the Command Line</a></li>
<li class="chapter" data-level="C.7" data-path="keypoints.html"><a href="keypoints.html#going-further-with-git-1"><i class="fa fa-check"></i><b>C.7</b> Going Further with Git</a></li>
<li class="chapter" data-level="C.8" data-path="keypoints.html"><a href="keypoints.html#working-in-teams-1"><i class="fa fa-check"></i><b>C.8</b> Working in Teams</a></li>
<li class="chapter" data-level="C.9" data-path="keypoints.html"><a href="keypoints.html#automating-analyses-with-make-1"><i class="fa fa-check"></i><b>C.9</b> Automating Analyses with Make</a></li>
<li class="chapter" data-level="C.10" data-path="keypoints.html"><a href="keypoints.html#configuring-programs-1"><i class="fa fa-check"></i><b>C.10</b> Configuring Programs</a></li>
<li class="chapter" data-level="C.11" data-path="keypoints.html"><a href="keypoints.html#handling-errors-1"><i class="fa fa-check"></i><b>C.11</b> Handling Errors</a></li>
<li class="chapter" data-level="C.12" data-path="keypoints.html"><a href="keypoints.html#testing-software-1"><i class="fa fa-check"></i><b>C.12</b> Testing Software</a></li>
<li class="chapter" data-level="C.13" data-path="keypoints.html"><a href="keypoints.html#tracking-provenance-1"><i class="fa fa-check"></i><b>C.13</b> Tracking Provenance</a></li>
<li class="chapter" data-level="C.14" data-path="keypoints.html"><a href="keypoints.html#creating-packages-with-python-1"><i class="fa fa-check"></i><b>C.14</b> Creating Packages with Python</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="solutions.html"><a href="solutions.html"><i class="fa fa-check"></i><b>D</b> Solutions</a></li>
<li class="chapter" data-level="E" data-path="anaconda.html"><a href="anaconda.html"><i class="fa fa-check"></i><b>E</b> Anaconda</a>
<ul>
<li class="chapter" data-level="E.1" data-path="anaconda.html"><a href="anaconda.html#anaconda-conda-package-management"><i class="fa fa-check"></i><b>E.1</b> Package Management With conda</a>
<ul>
<li class="chapter" data-level="E.1.1" data-path="anaconda.html"><a href="anaconda.html#anaconda-cloud"><i class="fa fa-check"></i><b>E.1.1</b> Anaconda Cloud</a></li>
<li class="chapter" data-level="E.1.2" data-path="anaconda.html"><a href="anaconda.html#conda-forge"><i class="fa fa-check"></i><b>E.1.2</b> conda-forge</a></li>
</ul></li>
<li class="chapter" data-level="E.2" data-path="anaconda.html"><a href="anaconda.html#anaconda-environments"><i class="fa fa-check"></i><b>E.2</b> Environment Management With conda</a></li>
</ul></li>
<li class="chapter" data-level="F" data-path="tree.html"><a href="tree.html"><i class="fa fa-check"></i><b>F</b> Project Tree</a></li>
<li class="chapter" data-level="G" data-path="style.html"><a href="style.html"><i class="fa fa-check"></i><b>G</b> Writing Readable Code</a>
<ul>
<li class="chapter" data-level="G.1" data-path="style.html"><a href="style.html#style-pep8"><i class="fa fa-check"></i><b>G.1</b> Python Style</a>
<ul>
<li class="chapter" data-level="G.1.1" data-path="style.html"><a href="style.html#spacing"><i class="fa fa-check"></i><b>G.1.1</b> Spacing</a></li>
<li class="chapter" data-level="G.1.2" data-path="style.html"><a href="style.html#naming"><i class="fa fa-check"></i><b>G.1.2</b> Naming</a></li>
</ul></li>
<li class="chapter" data-level="G.2" data-path="style.html"><a href="style.html#style-order"><i class="fa fa-check"></i><b>G.2</b> Order</a></li>
<li class="chapter" data-level="G.3" data-path="style.html"><a href="style.html#style-check"><i class="fa fa-check"></i><b>G.3</b> Checking Style</a></li>
<li class="chapter" data-level="G.4" data-path="style.html"><a href="style.html#style-refactor"><i class="fa fa-check"></i><b>G.4</b> Refactoring</a>
<ul>
<li class="chapter" data-level="G.4.1" data-path="style.html"><a href="style.html#do-not-repeat-values"><i class="fa fa-check"></i><b>G.4.1</b> Do not repeat values</a></li>
<li class="chapter" data-level="G.4.2" data-path="style.html"><a href="style.html#do-not-repeat-calculations-in-loops"><i class="fa fa-check"></i><b>G.4.2</b> Do not repeat calculations in loops</a></li>
<li class="chapter" data-level="G.4.3" data-path="style.html"><a href="style.html#replace-tests-with-flags-to-clarify-repeated-tests"><i class="fa fa-check"></i><b>G.4.3</b> Replace tests with flags to clarify repeated tests</a></li>
<li class="chapter" data-level="G.4.4" data-path="style.html"><a href="style.html#use-in-place-operators-to-avoid-duplicating-expression"><i class="fa fa-check"></i><b>G.4.4</b> Use in-place operators to avoid duplicating expression</a></li>
<li class="chapter" data-level="G.4.5" data-path="style.html"><a href="style.html#handle-special-cases-first"><i class="fa fa-check"></i><b>G.4.5</b> Handle special cases first</a></li>
<li class="chapter" data-level="G.4.6" data-path="style.html"><a href="style.html#use-functions-to-make-code-more-comprehensible"><i class="fa fa-check"></i><b>G.4.6</b> Use functions to make code more comprehensible</a></li>
<li class="chapter" data-level="G.4.7" data-path="style.html"><a href="style.html#combine-operations-in-functions"><i class="fa fa-check"></i><b>G.4.7</b> Combine operations in functions</a></li>
<li class="chapter" data-level="G.4.8" data-path="style.html"><a href="style.html#replace-code-with-data"><i class="fa fa-check"></i><b>G.4.8</b> Replace code with data</a></li>
</ul></li>
<li class="chapter" data-level="G.5" data-path="style.html"><a href="style.html#style-review"><i class="fa fa-check"></i><b>G.5</b> Code Reviews</a></li>
<li class="chapter" data-level="G.6" data-path="style.html"><a href="style.html#style-features"><i class="fa fa-check"></i><b>G.6</b> Python Features</a>
<ul>
<li class="chapter" data-level="G.6.1" data-path="style.html"><a href="style.html#provide-default-values-for-parameters"><i class="fa fa-check"></i><b>G.6.1</b> Provide default values for parameters</a></li>
<li class="chapter" data-level="G.6.2" data-path="style.html"><a href="style.html#handle-a-variable-number-of-arguments"><i class="fa fa-check"></i><b>G.6.2</b> Handle a variable number of arguments</a></li>
<li class="chapter" data-level="G.6.3" data-path="style.html"><a href="style.html#unpacking-variable-arguments"><i class="fa fa-check"></i><b>G.6.3</b> Unpacking variable arguments</a></li>
<li class="chapter" data-level="G.6.4" data-path="style.html"><a href="style.html#use-destructuring-to-assign-multiple-values-at-once"><i class="fa fa-check"></i><b>G.6.4</b> Use destructuring to assign multiple values at once</a></li>
</ul></li>
<li class="chapter" data-level="G.7" data-path="style.html"><a href="style.html#style-summary"><i class="fa fa-check"></i><b>G.7</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="H" data-path="yaml.html"><a href="yaml.html"><i class="fa fa-check"></i><b>H</b> YAML</a></li>
<li class="chapter" data-level="I" data-path="documentation.html"><a href="documentation.html"><i class="fa fa-check"></i><b>I</b> Documenting Programs</a>
<ul>
<li class="chapter" data-level="I.1" data-path="documentation.html"><a href="documentation.html#documentation-audience"><i class="fa fa-check"></i><b>I.1</b> Defining Your Audience</a></li>
<li class="chapter" data-level="I.2" data-path="documentation.html"><a href="documentation.html#documentation-docstrings"><i class="fa fa-check"></i><b>I.2</b> Writing Good Docstrings</a></li>
<li class="chapter" data-level="I.3" data-path="documentation.html"><a href="documentation.html#documentation-faq"><i class="fa fa-check"></i><b>I.3</b> Creating a FAQ</a></li>
</ul></li>
<li class="chapter" data-level="J" data-path="ssh.html"><a href="ssh.html"><i class="fa fa-check"></i><b>J</b> Working Remotely</a>
<ul>
<li class="chapter" data-level="J.1" data-path="ssh.html"><a href="ssh.html#ssh-login"><i class="fa fa-check"></i><b>J.1</b> Logging In</a></li>
<li class="chapter" data-level="J.2" data-path="ssh.html"><a href="ssh.html#ssh-cp"><i class="fa fa-check"></i><b>J.2</b> Copying Files</a></li>
<li class="chapter" data-level="J.3" data-path="ssh.html"><a href="ssh.html#ssh-cmd"><i class="fa fa-check"></i><b>J.3</b> Running Commands</a></li>
<li class="chapter" data-level="J.4" data-path="ssh.html"><a href="ssh.html#ssh-keys"><i class="fa fa-check"></i><b>J.4</b> Creating Keys</a></li>
<li class="chapter" data-level="J.5" data-path="ssh.html"><a href="ssh.html#ssh-filedir"><i class="fa fa-check"></i><b>J.5</b> Dependencies</a></li>
</ul></li>
<li class="chapter" data-level="K" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>K</b> References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Research Software Engineering with Python</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="errors" class="section level1" number="11">
<h1><span class="header-section-number">Chapter 11</span> Handling Errors</h1>
<blockquote>
<p>“When Mister Safety Catch Is Not On, Mister Crossbow Is Not Your Friend.”</p>
<p>— Terry Pratchett</p>
</blockquote>
<p>We live in an imperfect world.
People will give our programs options that aren’t supported
or ask those programs to read files that don’t exist.
Our code will also inevitably contain bugs,
so we should plan from the start to catch and handle errors.
In this chapter,
we will explore how errors are represented in programs
and what we should do with them.
The Zipf’s Law project should now include:</p>
<pre class="text"><code>zipf/
├── .gitignore
├── CONDUCT.md
├── CONTRIBUTING.md
├── LICENSE.md
├── Makefile
├── README.md
├── bin
│   ├── book_summary.sh
│   ├── collate.py
│   ├── countwords.py
│   ├── plotcounts.py
│   ├── plotparams.yml
│   ├── script_template.py
│   └── utilities.py
├── data
│   ├── README.md
│   ├── dracula.txt
│   └── ...
└── results
    ├── dracula.csv
    ├── dracula.png
    └── ...</code></pre>
<div id="errors-exceptions" class="section level2" number="11.1">
<h2><span class="header-section-number">11.1</span> Exceptions</h2>
<p>Most modern programming languages use <a href="glossary.html#exception">exceptions</a> for error handling.
As the name suggests,
an exception is a way to represent an exceptional or unusual occurrence
that doesn’t fit neatly into the program’s expected operation.
The code below uses exceptions to report attempts to divide by zero:</p>
<div class="sourceCode" id="cb678"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb678-1"><a href="errors.html#cb678-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> denom <span class="kw">in</span> [<span class="op">-</span><span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">5</span>]:</span>
<span id="cb678-2"><a href="errors.html#cb678-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb678-3"><a href="errors.html#cb678-3" aria-hidden="true" tabindex="-1"></a>        result <span class="op">=</span> <span class="dv">1</span><span class="op">/</span>denom</span>
<span id="cb678-4"><a href="errors.html#cb678-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;1/</span><span class="sc">{</span>denom<span class="sc">}</span><span class="ss"> == </span><span class="sc">{</span>result<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb678-5"><a href="errors.html#cb678-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span>:</span>
<span id="cb678-6"><a href="errors.html#cb678-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;Cannot divide by </span><span class="sc">{</span>denom<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<pre class="text"><code>1/-5 == -0.2
Cannot divide by 0
1/5 == 0.2</code></pre>
<p><code>try</code>/<code>except</code> looks like <code>if</code>/<code>else</code> and works in a similar fashion.
If nothing unexpected happens inside the <code>try</code> block,
the <code>except</code> block isn’t run (Figure <a href="errors.html#fig:errors-control-flow">11.1</a>).
If something goes wrong inside the <code>try</code>,
on the other hand,
the program jumps immediately to the <code>except</code>.
This is why the <code>print</code> statement inside the <code>try</code> doesn’t run when <code>denom</code> is 0:
as soon as Python tries to calculate <code>1/denom</code>,
it skips directly to the code under <code>except</code>.</p>
<div class="figure" style="text-align: center"><span id="fig:errors-control-flow"></span>
<img src="figures/errors/exceptions.png" alt="Exception control flow." width="40%" />
<p class="caption">
Figure 11.1: Exception control flow.
</p>
</div>
<p>We often want to know exactly what went wrong,
so Python and other languages store information about the error
in an object (which is also called an exception).
We can <a href="glossary.html#catch_exception">catch</a> an exception and inspect it as follows:</p>
<div class="sourceCode" id="cb680"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb680-1"><a href="errors.html#cb680-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> denom <span class="kw">in</span> [<span class="op">-</span><span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">5</span>]:</span>
<span id="cb680-2"><a href="errors.html#cb680-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb680-3"><a href="errors.html#cb680-3" aria-hidden="true" tabindex="-1"></a>        result <span class="op">=</span> <span class="dv">1</span><span class="op">/</span>denom</span>
<span id="cb680-4"><a href="errors.html#cb680-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;1/</span><span class="sc">{</span>denom<span class="sc">}</span><span class="ss"> == </span><span class="sc">{</span>result<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb680-5"><a href="errors.html#cb680-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> error:</span>
<span id="cb680-6"><a href="errors.html#cb680-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>denom<span class="sc">}</span><span class="ss"> has no reciprocal: </span><span class="sc">{</span>error<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<pre class="text"><code>1/-5 == -0.2
0 has no reciprocal: division by zero
1/5 == 0.2</code></pre>
<p>We can use any variable name we like instead of <code>error</code>;
Python will assign the exception object to that variable
so that we can do things with it in the <code>except</code> block.</p>
<p>Python also allows us to specify what kind of exception we want to catch.
For example,
we can write code to handle out-of-range indexing and division by zero separately:</p>
<div class="sourceCode" id="cb682"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb682-1"><a href="errors.html#cb682-1" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="op">-</span><span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">5</span>]</span>
<span id="cb682-2"><a href="errors.html#cb682-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> [<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]:</span>
<span id="cb682-3"><a href="errors.html#cb682-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb682-4"><a href="errors.html#cb682-4" aria-hidden="true" tabindex="-1"></a>        denom <span class="op">=</span> numbers[i]</span>
<span id="cb682-5"><a href="errors.html#cb682-5" aria-hidden="true" tabindex="-1"></a>        result <span class="op">=</span> <span class="dv">1</span><span class="op">/</span>denom</span>
<span id="cb682-6"><a href="errors.html#cb682-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;1/</span><span class="sc">{</span>denom<span class="sc">}</span><span class="ss"> == </span><span class="sc">{</span>result<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb682-7"><a href="errors.html#cb682-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">IndexError</span> <span class="im">as</span> error:</span>
<span id="cb682-8"><a href="errors.html#cb682-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;index </span><span class="sc">{i}</span><span class="ss"> out of range&#39;</span>)</span>
<span id="cb682-9"><a href="errors.html#cb682-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ZeroDivisionError</span> <span class="im">as</span> error:</span>
<span id="cb682-10"><a href="errors.html#cb682-10" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>denom<span class="sc">}</span><span class="ss"> has no reciprocal: </span><span class="sc">{</span>error<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<pre class="text"><code>1/-5 == -0.2
0 has no reciprocal: division by zero
1/5 == 0.2
index 3 out of range</code></pre>
<p>Exceptions are organized in a hierarchy:
for example,
<code>FloatingPointError</code>, <code>OverflowError</code>, and <code>ZeroDivisionError</code>
are all special cases of <code>ArithmeticError</code>,
so an <code>except</code> that catches the latter will catch all three of the former,
but an <code>except</code> that catches an <code>OverflowError</code>
<em>won’t</em> catch a <code>ZeroDivisionError</code>.
The Python documentation describes all of <a href="https://docs.python.org/3/library/exceptions.html#exception-hierarchy">the built-in exception types</a>;
in practice,
the ones that people handle most often are:</p>
<ul>
<li><code>ArithmeticError</code>:
something has gone wrong in a calculation.</li>
<li><code>IndexError</code> and <code>KeyError</code>:
something has gone wrong indexing a list or lookup something up in a dictionary.</li>
<li><code>OSError</code>:
thrown when a file is not found,
the program doesn’t have permission to read it,
and so on.</li>
</ul>
<p>So where do exceptions come from?
The answer is that programmers can <a href="glossary.html#raise_exception">raise</a> them explicitly:</p>
<div class="sourceCode" id="cb684"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb684-1"><a href="errors.html#cb684-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> [<span class="dv">1</span>, <span class="dv">0</span>, <span class="op">-</span><span class="dv">1</span>]:</span>
<span id="cb684-2"><a href="errors.html#cb684-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb684-3"><a href="errors.html#cb684-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> number <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb684-4"><a href="errors.html#cb684-4" aria-hidden="true" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="ss">f&#39;no negatives: </span><span class="sc">{</span>number<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb684-5"><a href="errors.html#cb684-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(number)</span>
<span id="cb684-6"><a href="errors.html#cb684-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ValueError</span> <span class="im">as</span> error:</span>
<span id="cb684-7"><a href="errors.html#cb684-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;exception: </span><span class="sc">{</span>error<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<pre class="text"><code>1
0
exception: no negatives: -1</code></pre>
<p>We can define our own exception types,
and many libraries do,
but the built-in types are enough to cover common cases.</p>
<p>One final note is that exceptions don’t have to be handled where they are raised.
In fact,
their greatest strength is that they allow long-range error handling.
If an exception occurs inside a function and there is no <code>except</code> for it there,
Python checks to see if whoever called the function is willing to handle the error.
It keeps working its way up through the <a href="glossary.html#call_stack">call stack</a>
until it finds a matching <code>except</code>.
If there isn’t one,
Python takes care of the exception itself.
The example below relies on this:
the second call to <code>sum_reciprocals</code> tries to divide by zero,
but the exception is caught in the calling code
rather than in the function.</p>
<div class="sourceCode" id="cb686"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb686-1"><a href="errors.html#cb686-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> sum_reciprocals(values):</span>
<span id="cb686-2"><a href="errors.html#cb686-2" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb686-3"><a href="errors.html#cb686-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> v <span class="kw">in</span> values:</span>
<span id="cb686-4"><a href="errors.html#cb686-4" aria-hidden="true" tabindex="-1"></a>        result <span class="op">+=</span> <span class="dv">1</span><span class="op">/</span>v</span>
<span id="cb686-5"><a href="errors.html#cb686-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> result</span>
<span id="cb686-6"><a href="errors.html#cb686-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb686-7"><a href="errors.html#cb686-7" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="op">-</span><span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>]</span>
<span id="cb686-8"><a href="errors.html#cb686-8" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb686-9"><a href="errors.html#cb686-9" aria-hidden="true" tabindex="-1"></a>    one_over <span class="op">=</span> sum_reciprocals(numbers)</span>
<span id="cb686-10"><a href="errors.html#cb686-10" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">ArithmeticError</span> <span class="im">as</span> error:</span>
<span id="cb686-11"><a href="errors.html#cb686-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&#39;Error trying to sum reciprocals: </span><span class="sc">{</span>error<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<pre class="text"><code>Error trying to sum reciprocals: division by zero</code></pre>
<p>This behavior is designed to support a pattern called “throw low, catch high”:
write most of your code without exception handlers,
since there’s nothing useful you can do in the middle of a small utility function,
but put a few handlers in the uppermost functions of your program
to catch and report all errors.</p>
<p>We can now go ahead and add error handling to our Zipf’s Law code.
Some is already built in:
for example,
if we try to read a file that does not exist,
the <code>open</code> function throws a <code>FileNotFoundError</code>:</p>
<div class="sourceCode" id="cb688"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb688-1"><a href="errors.html#cb688-1" aria-hidden="true" tabindex="-1"></a>$ <span class="ex">python</span> bin/collate.py results/none.csv results/dracula.csv</span></code></pre></div>
<pre class="text"><code>Traceback (most recent call last):
  File &quot;bin/collate.py&quot;, line 27, in &lt;module&gt;
    main(args)
  File &quot;bin/collate.py&quot;, line 17, in main
    with open(fname, &#39;r&#39;) as reader:
FileNotFoundError: [Errno 2] No such file or directory:
&#39;results/none.csv&#39;</code></pre>
<p>But what happens if we try to read a file that exists,
but was not created by <code>countwords.py</code>?</p>
<div class="sourceCode" id="cb690"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb690-1"><a href="errors.html#cb690-1" aria-hidden="true" tabindex="-1"></a>$ <span class="ex">python</span> bin/collate.py Makefile</span></code></pre></div>
<pre class="text"><code>Traceback (most recent call last):
  File &quot;bin/collate.py&quot;, line 27, in &lt;module&gt;
    main(args)
  File &quot;bin/collate.py&quot;, line 18, in main
    update_counts(reader, word_counts)
  File &quot;bin/collate.py&quot;, line 10, in update_counts
    for word, count in csv.reader(reader):
ValueError: not enough values to unpack (expected 2, got 1)</code></pre>
<p>This error is hard to understand,
even if we are familiar with the code’s internals.
Our program should therefore check that the input files are CSV files,
and if not,
raise an error with a useful explanation to what went wrong.
We could achieve this by wrapping the call to <code>open</code> in a <code>try/except</code> clause:</p>
<div class="sourceCode" id="cb692"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb692-1"><a href="errors.html#cb692-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> fname <span class="kw">in</span> args.infiles:</span>
<span id="cb692-2"><a href="errors.html#cb692-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb692-3"><a href="errors.html#cb692-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(fname, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> reader:</span>
<span id="cb692-4"><a href="errors.html#cb692-4" aria-hidden="true" tabindex="-1"></a>            update_counts(reader, word_counts)</span>
<span id="cb692-5"><a href="errors.html#cb692-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ValueError</span> <span class="im">as</span> e:</span>
<span id="cb692-6"><a href="errors.html#cb692-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>fname<span class="sc">}</span><span class="ss"> is not a CSV file.&#39;</span>)</span>
<span id="cb692-7"><a href="errors.html#cb692-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;ValueError: </span><span class="sc">{e}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb693"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb693-1"><a href="errors.html#cb693-1" aria-hidden="true" tabindex="-1"></a>$ <span class="ex">python</span> bin/collate.py Makefile</span></code></pre></div>
<pre class="text"><code>Makefile is not a CSV file.
ValueError: not enough values to unpack (expected 2, got 1)</code></pre>
<p>This is definitely more informative than before.
However,
<em>all</em> <code>ValueErrors</code> that are raised when trying to open a file
will result in this error message,
including those raised when we actually do use a CSV file as input.
A more precise approach in this case would be to throw an exception
only if some other kind of file is specified as an input:</p>
<div class="sourceCode" id="cb695"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb695-1"><a href="errors.html#cb695-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> fname <span class="kw">in</span> args.infiles:</span>
<span id="cb695-2"><a href="errors.html#cb695-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> fname[<span class="op">-</span><span class="dv">4</span>:] <span class="op">!=</span> <span class="st">&#39;.csv&#39;</span>:</span>
<span id="cb695-3"><a href="errors.html#cb695-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">OSError</span>(<span class="ss">f&#39;</span><span class="sc">{</span>fname<span class="sc">}</span><span class="ss"> is not a CSV file.&#39;</span>)</span>
<span id="cb695-4"><a href="errors.html#cb695-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(fname, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> reader:</span>
<span id="cb695-5"><a href="errors.html#cb695-5" aria-hidden="true" tabindex="-1"></a>        update_counts(reader, word_counts)</span></code></pre></div>
<div class="sourceCode" id="cb696"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb696-1"><a href="errors.html#cb696-1" aria-hidden="true" tabindex="-1"></a>$ <span class="ex">python</span> bin/collate.py Makefile</span></code></pre></div>
<pre class="text"><code>Traceback (most recent call last):
  File &quot;bin/collate.py&quot;, line 29, in &lt;module&gt;
    main(args)
  File &quot;bin/collate.py&quot;, line 18, in main
    raise OSError(f&#39;{fname} is not a CSV file.&#39;)
OSError: Makefile is not a CSV file.</code></pre>
<p>This approach is still not perfect:
we are checking that the file’s suffix is <code>.csv</code>
instead of checking the content of the file
and confirming that it is what we require.
What we <em>should</em> do is check that there are two columns separated by a comma,
that the first column contains strings,
and that the second is numerical.</p>
</div>
<div id="errors-kind" class="section level2" number="11.2">
<h2><span class="header-section-number">11.2</span> Kinds of Errors</h2>
<p>The “<code>if</code> then <code>raise</code>” approach is sometimes referred to as “look before you leap,”
while the <code>try/except</code> approach obeys the old adage that
“it’s easier to ask for forgiveness than permission.”
The first approach is more precise,
but has the shortcoming that programmers can’t anticipate everything that can go wrong when running a program,
so there should always be an <code>except</code> somewhere
to deal with unexpected cases.</p>
<p>Generally speaking,
we should distinguish between <a href="glossary.html#internal_error">internal errors</a>,
such as calling a function with <code>None</code> instead of a list,
and <a href="glossary.html#external_error">external errors</a>,
such as trying to read a file that doesn’t exist.
Internal errors should be prevented by doing unit testing (Chapter <a href="testing.html#testing">12</a>),
but software is always used in new ways in the real world,
and those new ways can trigger unanticipated bugs.
When an internal error occurs,
the only thing we can do in most cases is report it and halt the program.
If a function has been passed <code>None</code> instead of a valid list,
for example,
the odds are good that one of our data structures is corrupted.
We can try to guess what the problem is and take corrective action,
but our guess will often be wrong
and our attempt to correct the problem might actually make things worse.</p>
<p>External errors,
on the other hand,
are usually caused by interactions between the program and the outside world:
a user may mis-type a filename,
the network might be down,
and so on.
Section <a href="testing.html#testing-failure">12.5</a> describes some ways to test that
software will do the right thing when this happens,
but we still need to catch and handle these errors when they arise.
For example,
if a user mis-types her password,
prompting her to try again would be friendlier than
requiring her to restart the program.</p>
<p>The one rule we should <em>always</em> follow is to check for errors as early as possible
so that we don’t waste the user’s time.
Few things are as frustrating as being told at the end of an hour-long calculation
that the program doesn’t have permission to write to an output directory.
It’s a little extra work to check things like this up front,
but the larger your program or the longer it runs,
the more useful those checks will be.</p>
</div>
<div id="errors-messages" class="section level2" number="11.3">
<h2><span class="header-section-number">11.3</span> Writing Useful Error Messages</h2>
<p>The error message shown in Figure <a href="errors.html#fig:errors-error-message">11.2</a> is not helpful:</p>
<div class="figure" style="text-align: center"><span id="fig:errors-error-message"></span>
<img src="figures/scripting/error-message.png" alt="An unhelpful error message." width="60%" />
<p class="caption">
Figure 11.2: An unhelpful error message.
</p>
</div>
<p>Having <code>collate.py</code> print the message below would be equally unfriendly:</p>
<pre class="text"><code>OSError: Something went wrong, try again.</code></pre>
<p>This message doesn’t provide any information on what went wrong,
so it is difficult to know what to change for next time.
A slightly better message would be:</p>
<pre class="text"><code>OSError: Unsupported file type.</code></pre>
<p>This tells us the problem is with the type of file we’re trying to process,
but it still doesn’t tell us what file types are supported,
which means we have to rely on guesswork or read the source code.
Telling the user “<em>filename</em> is not a CSV file”
(as we did in the previous section)
makes it clear that the program only works with CSV files,
but since we don’t actually check the content of the file,
this message could confuse someone who has comma-separated values saved in a <code>.txt</code> file.
An even better message would therefore be:</p>
<pre class="text"><code>OSError: File must end in .csv</code></pre>
<p>This message tells us exactly what the criteria are to avoid the error.</p>
<p>Error messages are often the first thing people read about a piece of software,
so they should therefore be the most carefully written documentation for that software.
A web search for “writing good error messages” turns up hundreds of hits,
but recommendations are often more like gripes than guidelines
and are usually not backed up by evidence.
What research there is gives us the following rules <span class="citation">(<a href="references.html#ref-Beck2016" role="doc-biblioref">Becker et al. 2016</a>)</span>:</p>
<ol style="list-style-type: decimal">
<li><p>Tell the user what they did, not what the program did.
Putting it another way,
the message shouldn’t state the effect of the error,
it should state the cause.</p></li>
<li><p>Be spatially correct,
i.e.,
point at the actual location of the error.
Few things are as frustrating as being pointed at line 28
when the problem is really on line 35.</p></li>
<li><p>Be as specific as possible without being or seeming wrong
from a user’s point of view.
For example,
“file not found” is very different from “don’t have permissions to open file” or “file is empty.”</p></li>
<li><p>Write for your audience’s level of understanding.
For example,
error messages should never use programming terms more advanced than
those you would use to describe the code to the user.</p></li>
<li><p>Do not blame the user, and do not use words like fatal, illegal, etc.
The former can be frustrating—in many cases, “user error” actually isn’t—and
the latter can make people worry that the program has damaged their data,
their computer,
or their reputation.</p></li>
<li><p>Do not try to make the computer sound like a human being.
In particular, avoid humor:
very few jokes are funny on the dozenth re-telling,
and most users are going to see error messages at least that often.</p></li>
<li><p>Use a consistent vocabulary.
This rule can be hard to enforce when error messages are written by several different people,
but putting them all in one module makes review easier.</p></li>
</ol>
<p>That last suggestion deserves a little elaboration.
Most people write error messages directly in their code:</p>
<div class="sourceCode" id="cb701"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb701-1"><a href="errors.html#cb701-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> fname[<span class="op">-</span><span class="dv">4</span>:] <span class="op">!=</span> <span class="st">&#39;.csv&#39;</span>:</span>
<span id="cb701-2"><a href="errors.html#cb701-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">raise</span> <span class="pp">OSError</span>(<span class="ss">f&#39;</span><span class="sc">{</span>fname<span class="sc">}</span><span class="ss">: File must end in .csv&#39;</span>)</span></code></pre></div>
<p>A better approach is to put all the error messages in a dictionary:</p>
<div class="sourceCode" id="cb702"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb702-1"><a href="errors.html#cb702-1" aria-hidden="true" tabindex="-1"></a>ERRORS <span class="op">=</span> {</span>
<span id="cb702-2"><a href="errors.html#cb702-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;not_csv_suffix&#39;</span> : <span class="st">&#39;</span><span class="sc">{fname}</span><span class="st">: File must end in .csv&#39;</span>,</span>
<span id="cb702-3"><a href="errors.html#cb702-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;config_corrupted&#39;</span> : <span class="st">&#39;</span><span class="sc">{config_name}</span><span class="st"> corrupted&#39;</span>,</span>
<span id="cb702-4"><a href="errors.html#cb702-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ...more error messages...</span></span>
<span id="cb702-5"><a href="errors.html#cb702-5" aria-hidden="true" tabindex="-1"></a>    }</span></code></pre></div>
<p>and then only use messages from that dictionary:</p>
<div class="sourceCode" id="cb703"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb703-1"><a href="errors.html#cb703-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> fname[<span class="op">-</span><span class="dv">4</span>:] <span class="op">!=</span> <span class="st">&#39;.csv&#39;</span>:</span>
<span id="cb703-2"><a href="errors.html#cb703-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">raise</span> <span class="pp">OSError</span>(ERRORS[<span class="st">&#39;not_csv_suffix&#39;</span>].<span class="bu">format</span>(fname<span class="op">=</span>fname))</span></code></pre></div>
<p>Doing this makes it much easier to ensure that messages are consistent.
It also makes it much easier to give messages in the user’s preferred language:</p>
<div class="sourceCode" id="cb704"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb704-1"><a href="errors.html#cb704-1" aria-hidden="true" tabindex="-1"></a>ERRORS <span class="op">=</span> {</span>
<span id="cb704-2"><a href="errors.html#cb704-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;en&#39;</span> : {</span>
<span id="cb704-3"><a href="errors.html#cb704-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;not_csv_suffix&#39;</span> : <span class="st">&#39;</span><span class="sc">{fname}</span><span class="st">: File must end in .csv&#39;</span>,</span>
<span id="cb704-4"><a href="errors.html#cb704-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;config_corrupted&#39;</span> : <span class="st">&#39;</span><span class="sc">{config_name}</span><span class="st"> corrupted&#39;</span>,</span>
<span id="cb704-5"><a href="errors.html#cb704-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ...more error messages in English...</span></span>
<span id="cb704-6"><a href="errors.html#cb704-6" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb704-7"><a href="errors.html#cb704-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;fr&#39;</span> : {</span>
<span id="cb704-8"><a href="errors.html#cb704-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;not_csv_suffix&#39;</span> : <span class="st">&#39;</span><span class="sc">{fname}</span><span class="st">: Doit se terminer par .csv&#39;</span>,</span>
<span id="cb704-9"><a href="errors.html#cb704-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;config_corrupted&#39;</span> : <span class="ss">f&#39;</span><span class="sc">{</span>config_name<span class="sc">}</span><span class="ss"> corrompu&#39;</span>,</span>
<span id="cb704-10"><a href="errors.html#cb704-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ...more error messages in French...</span></span>
<span id="cb704-11"><a href="errors.html#cb704-11" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb704-12"><a href="errors.html#cb704-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ...other languages...</span></span>
<span id="cb704-13"><a href="errors.html#cb704-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>The error report is then looked up and formatted as:</p>
<div class="sourceCode" id="cb705"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb705-1"><a href="errors.html#cb705-1" aria-hidden="true" tabindex="-1"></a>ERRORS[user_language][<span class="st">&#39;not_csv_suffix&#39;</span>].<span class="bu">format</span>(fname<span class="op">=</span>fname)</span></code></pre></div>
<p>where <code>user_language</code> is a two-letter code for the user’s preferred language.</p>
</div>
<div id="errors-logging" class="section level2" number="11.4">
<h2><span class="header-section-number">11.4</span> Reporting Errors</h2>
<p>Programs should report things that go wrong;
they should also sometimes report things that go right
so that people can monitor their progress.
Adding <code>print</code> statements is a common approach,
but removing them or commenting them out when the code goes into production is tedious and error-prone.</p>
<p>A better approach is to use a <a href="glossary.html#logging_framework">logging framework</a>,
such as Python’s <code>logging</code> library.
This lets us leave debugging statements in our code
and turn them on or off at will.
It also lets us send output to any of several destinations,
which is helpful when our data analysis pipeline has several stages
and we are trying to figure out which one contains a bug.</p>
<p>To understand how logging frameworks work,
suppose we want to turn <code>print</code> statements in our <code>collate.py</code> program on or off
without editing the program’s source code.
We would probably wind up with code like this:</p>
<div class="sourceCode" id="cb706"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb706-1"><a href="errors.html#cb706-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> LOG_LEVEL <span class="op">&gt;=</span> <span class="dv">0</span>:</span>
<span id="cb706-2"><a href="errors.html#cb706-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&#39;Processing files...&#39;</span>)</span>
<span id="cb706-3"><a href="errors.html#cb706-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> fname <span class="kw">in</span> args.infiles:</span>
<span id="cb706-4"><a href="errors.html#cb706-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> LOG_LEVEL <span class="op">&gt;=</span> <span class="dv">1</span>:</span>
<span id="cb706-5"><a href="errors.html#cb706-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;Reading in </span><span class="sc">{</span>fname<span class="sc">}</span><span class="ss">...&#39;</span>)</span>
<span id="cb706-6"><a href="errors.html#cb706-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> fname[<span class="op">-</span><span class="dv">4</span>:] <span class="op">!=</span> <span class="st">&#39;.csv&#39;</span>:</span>
<span id="cb706-7"><a href="errors.html#cb706-7" aria-hidden="true" tabindex="-1"></a>        msg <span class="op">=</span> ERRORS[<span class="st">&#39;not_csv_suffix&#39;</span>].<span class="bu">format</span>(fname<span class="op">=</span>fname)</span>
<span id="cb706-8"><a href="errors.html#cb706-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">OSError</span>(msg)</span>
<span id="cb706-9"><a href="errors.html#cb706-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(fname, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> reader:</span>
<span id="cb706-10"><a href="errors.html#cb706-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> LOG_LEVEL <span class="op">&gt;=</span> <span class="dv">1</span>:</span>
<span id="cb706-11"><a href="errors.html#cb706-11" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f&#39;Computing word counts...&#39;</span>)</span>
<span id="cb706-12"><a href="errors.html#cb706-12" aria-hidden="true" tabindex="-1"></a>        update_counts(reader, word_counts)</span></code></pre></div>
<p><code>LOG_LEVEL</code> acts as a threshold:
any debugging output at a lower level than its value isn’t printed.
As a result,
the first log message will always be printed,
but the other two only in case the user has requested more details
by setting <code>LOG_LEVEL</code> higher than zero.</p>
<p>A logging framework combines the <code>if</code> and <code>print</code> statements in a single function call
and defines standard names for the <a href="glossary.html#logging_level">logging levels</a>.
In order of increasing severity,
the usual levels are:</p>
<ul>
<li><code>DEBUG</code>: very detailed information used for localizing errors.</li>
<li><code>INFO</code>: confirmation that things are working as expected.</li>
<li><code>WARNING</code>: something unexpected happened, but the program will keep going.</li>
<li><code>ERROR</code>: something has gone badly wrong, but the program hasn’t hurt anything.</li>
<li><code>CRITICAL</code>: potential loss of data, security breach, etc.</li>
</ul>
<p>Each of these has a corresponding function:
we can use <code>logging.debug</code>, <code>logging.info</code>, etc. to write messages at these levels.
By default,
only <code>WARNING</code> and above are displayed;
messages appear on <a href="glossary.html#stderr">standard error</a>
so that the flow of data in pipes isn’t affected.
The logging framework also displays the source of the message,
which is called <code>root</code> by default.
Thus,
if we run the small program shown below,
only the warning message appears:</p>
<div class="sourceCode" id="cb707"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb707-1"><a href="errors.html#cb707-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> logging</span>
<span id="cb707-2"><a href="errors.html#cb707-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb707-3"><a href="errors.html#cb707-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb707-4"><a href="errors.html#cb707-4" aria-hidden="true" tabindex="-1"></a>logging.warning(<span class="st">&#39;This is a warning.&#39;</span>)</span>
<span id="cb707-5"><a href="errors.html#cb707-5" aria-hidden="true" tabindex="-1"></a>logging.info(<span class="st">&#39;This is just for information.&#39;</span>)</span></code></pre></div>
<pre class="text"><code>WARNING:root:This is a warning.</code></pre>
<p>Rewriting the <code>collate.py</code> example above using <code>logging</code>
yields code that is less cluttered:</p>
<div class="sourceCode" id="cb709"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb709-1"><a href="errors.html#cb709-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> logging</span>
<span id="cb709-2"><a href="errors.html#cb709-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb709-3"><a href="errors.html#cb709-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb709-4"><a href="errors.html#cb709-4" aria-hidden="true" tabindex="-1"></a>logging.info(<span class="st">&#39;Processing files...&#39;</span>)</span>
<span id="cb709-5"><a href="errors.html#cb709-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> fname <span class="kw">in</span> args.infiles:</span>
<span id="cb709-6"><a href="errors.html#cb709-6" aria-hidden="true" tabindex="-1"></a>    logging.debug(<span class="ss">f&#39;Reading in </span><span class="sc">{</span>fname<span class="sc">}</span><span class="ss">...&#39;</span>)</span>
<span id="cb709-7"><a href="errors.html#cb709-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> fname[<span class="op">-</span><span class="dv">4</span>:] <span class="op">!=</span> <span class="st">&#39;.csv&#39;</span>:</span>
<span id="cb709-8"><a href="errors.html#cb709-8" aria-hidden="true" tabindex="-1"></a>        msg <span class="op">=</span> ERRORS[<span class="st">&#39;not_csv_suffix&#39;</span>].<span class="bu">format</span>(fname<span class="op">=</span>fname)</span>
<span id="cb709-9"><a href="errors.html#cb709-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">OSError</span>(msg)</span>
<span id="cb709-10"><a href="errors.html#cb709-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(fname, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> reader:</span>
<span id="cb709-11"><a href="errors.html#cb709-11" aria-hidden="true" tabindex="-1"></a>        logging.debug(<span class="st">&#39;Computing word counts...&#39;</span>)</span>
<span id="cb709-12"><a href="errors.html#cb709-12" aria-hidden="true" tabindex="-1"></a>        update_counts(reader, word_counts)</span></code></pre></div>
<p>We can also configure logging to send messages to a file instead of standard error
using <code>logging.basicConfig</code>.
(This has to be done before we make any logging calls—it’s not retroactive.)
We can also use that function to set the logging level:
everything at or above the specified level is displayed.</p>
<div class="sourceCode" id="cb710"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb710-1"><a href="errors.html#cb710-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> logging</span>
<span id="cb710-2"><a href="errors.html#cb710-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb710-3"><a href="errors.html#cb710-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb710-4"><a href="errors.html#cb710-4" aria-hidden="true" tabindex="-1"></a>logging.basicConfig(level<span class="op">=</span>logging.DEBUG, filename<span class="op">=</span><span class="st">&#39;logging.log&#39;</span>)</span>
<span id="cb710-5"><a href="errors.html#cb710-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb710-6"><a href="errors.html#cb710-6" aria-hidden="true" tabindex="-1"></a>logging.debug(<span class="st">&#39;This is for debugging.&#39;</span>)</span>
<span id="cb710-7"><a href="errors.html#cb710-7" aria-hidden="true" tabindex="-1"></a>logging.info(<span class="st">&#39;This is just for information.&#39;</span>)</span>
<span id="cb710-8"><a href="errors.html#cb710-8" aria-hidden="true" tabindex="-1"></a>logging.warning(<span class="st">&#39;This is a warning.&#39;</span>)</span>
<span id="cb710-9"><a href="errors.html#cb710-9" aria-hidden="true" tabindex="-1"></a>logging.error(<span class="st">&#39;Something went wrong.&#39;</span>)</span>
<span id="cb710-10"><a href="errors.html#cb710-10" aria-hidden="true" tabindex="-1"></a>logging.critical(<span class="st">&#39;Something went seriously wrong.&#39;</span>)</span></code></pre></div>
<pre class="text"><code>DEBUG:root:This is for debugging.
INFO:root:This is just for information.
WARNING:root:This is a warning.
ERROR:root:Something went wrong.
CRITICAL:root:Something went seriously wrong.</code></pre>
<p>By default,
<code>basicConfig</code> re-opens the file we specify in <a href="glossary.html#append_mode">append mode</a>;
we can use <code>filemode='w'</code> to overwrite the existing log data.
Overwriting is useful during debugging,
but we should think twice before doing in production,
since the information we throw away often turns out to be
exactly what we need to find a bug.</p>
<p>Many programs allow users to specify logging levels and log file names as command-line parameters.
At its simplest,
this is a single flag <code>-v</code> or <code>--verbose</code> that changes the logging level from <code>WARNING</code> (the default)
to <code>DEBUG</code> (the noisiest level).
There may also be a corresponding flag <code>-q</code> or <code>--quiet</code> that changes the level to <code>ERROR</code>,
and a flag <code>-l</code> or <code>--logfile</code> that specifies a log file name.
To log messages to a file while also printing them,
we can tell <code>logging</code> to use two handlers simultaneously:</p>
<div class="sourceCode" id="cb712"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb712-1"><a href="errors.html#cb712-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> logging</span>
<span id="cb712-2"><a href="errors.html#cb712-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb712-3"><a href="errors.html#cb712-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb712-4"><a href="errors.html#cb712-4" aria-hidden="true" tabindex="-1"></a>logging.basicConfig(</span>
<span id="cb712-5"><a href="errors.html#cb712-5" aria-hidden="true" tabindex="-1"></a>    level<span class="op">=</span>logging.DEBUG,</span>
<span id="cb712-6"><a href="errors.html#cb712-6" aria-hidden="true" tabindex="-1"></a>    handlers<span class="op">=</span>[</span>
<span id="cb712-7"><a href="errors.html#cb712-7" aria-hidden="true" tabindex="-1"></a>        logging.FileHandler(<span class="st">&quot;logging.log&quot;</span>),</span>
<span id="cb712-8"><a href="errors.html#cb712-8" aria-hidden="true" tabindex="-1"></a>        logging.StreamHandler()])</span>
<span id="cb712-9"><a href="errors.html#cb712-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb712-10"><a href="errors.html#cb712-10" aria-hidden="true" tabindex="-1"></a>logging.debug(<span class="st">&#39;This is for debugging.&#39;</span>)</span></code></pre></div>
<p>The string <code>'This is for debugging'</code> is both printed to standard error
and appended to <code>logging.log</code>.</p>
<p>Libraries like <code>logging</code> can send messages to many destinations;
in production,
we might send them to a centralized logging server
that collates logs from many different systems.
We might also use <a href="glossary.html#rotating_file">rotating files</a>
so that the system always has messages from the last few hours
but doesn’t fill up the disk.
We don’t need any of these when we start,
but the data engineers and system administrators
who eventually have to install and maintain your programs
will be very grateful if we use <code>logging</code> instead of <code>print</code> statements,
because it allows them to set things up the way they want with very little work.</p>
<blockquote>
<p><strong>Logging Configuration</strong></p>
<p>Chapter <a href="config.html#config">10</a> explained why and how
to save the configuration that produced a particular result.
We clearly also want this information in the log,
so we have three options:</p>
<ol style="list-style-type: decimal">
<li><p>Write the configuration values into the log one at a time.</p></li>
<li><p>Save the configuration as a single record in the log
(e.g., as a single entry containing <a href="glossary.html#json">JSON</a>).</p></li>
<li><p>Write the configuration to a separate file
and save the filename in the log.</p></li>
</ol>
<p>Option 1 usually means writing a lot of extra code to reassemble the configuration.
Option 2 also often requires us to write extra code
(since we need to be able to save and restore configurations as JSON
as well as in whatever format we normally use),
so on balance we recommend option 3.</p>
</blockquote>
</div>
<div id="errors-summary" class="section level2" number="11.5">
<h2><span class="header-section-number">11.5</span> Summary</h2>
<p>Most programmers spend as much time debugging as they do writing new code,
but most courses and textbooks only show working code,
and never discuss how to prevent, diagnose, report, and handle errors.
Raising our own exceptions instead of using the system’s,
writing useful error messages,
and logging problems systematically
can save us and our users a lot of needless work.</p>
</div>
<div id="errors-exercises" class="section level2" number="11.6">
<h2><span class="header-section-number">11.6</span> Exercises</h2>
<p>This chapter suggested several edits to <code>collate.py</code>,
such that the script now reads:</p>
<div class="sourceCode" id="cb713"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb713-1"><a href="errors.html#cb713-1" aria-hidden="true" tabindex="-1"></a><span class="co">&quot;&quot;&quot;</span></span>
<span id="cb713-2"><a href="errors.html#cb713-2" aria-hidden="true" tabindex="-1"></a><span class="co">Combine multiple word count CSV-files</span></span>
<span id="cb713-3"><a href="errors.html#cb713-3" aria-hidden="true" tabindex="-1"></a><span class="co">into a single cumulative count.</span></span>
<span id="cb713-4"><a href="errors.html#cb713-4" aria-hidden="true" tabindex="-1"></a><span class="co">&quot;&quot;&quot;</span></span>
<span id="cb713-5"><a href="errors.html#cb713-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb713-6"><a href="errors.html#cb713-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> csv</span>
<span id="cb713-7"><a href="errors.html#cb713-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> argparse</span>
<span id="cb713-8"><a href="errors.html#cb713-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb713-9"><a href="errors.html#cb713-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> logging</span>
<span id="cb713-10"><a href="errors.html#cb713-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb713-11"><a href="errors.html#cb713-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> utilities <span class="im">as</span> util</span>
<span id="cb713-12"><a href="errors.html#cb713-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb713-13"><a href="errors.html#cb713-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb713-14"><a href="errors.html#cb713-14" aria-hidden="true" tabindex="-1"></a>ERRORS <span class="op">=</span> {</span>
<span id="cb713-15"><a href="errors.html#cb713-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;not_csv_suffix&#39;</span> : <span class="st">&#39;</span><span class="sc">{fname}</span><span class="st">: File must end in .csv&#39;</span>,</span>
<span id="cb713-16"><a href="errors.html#cb713-16" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb713-17"><a href="errors.html#cb713-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb713-18"><a href="errors.html#cb713-18" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> update_counts(reader, word_counts):</span>
<span id="cb713-19"><a href="errors.html#cb713-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;&quot;&quot;Update word counts with data from another reader/file.&quot;&quot;&quot;</span></span>
<span id="cb713-20"><a href="errors.html#cb713-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> word, count <span class="kw">in</span> csv.reader(reader):</span>
<span id="cb713-21"><a href="errors.html#cb713-21" aria-hidden="true" tabindex="-1"></a>        word_counts[word] <span class="op">+=</span> <span class="bu">int</span>(count)</span>
<span id="cb713-22"><a href="errors.html#cb713-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb713-23"><a href="errors.html#cb713-23" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> main(args):</span>
<span id="cb713-24"><a href="errors.html#cb713-24" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;&quot;&quot;Run the command line program.&quot;&quot;&quot;</span></span>
<span id="cb713-25"><a href="errors.html#cb713-25" aria-hidden="true" tabindex="-1"></a>    word_counts <span class="op">=</span> Counter()</span>
<span id="cb713-26"><a href="errors.html#cb713-26" aria-hidden="true" tabindex="-1"></a>    logging.info(<span class="st">&#39;Processing files...&#39;</span>)</span>
<span id="cb713-27"><a href="errors.html#cb713-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> fname <span class="kw">in</span> args.infiles:</span>
<span id="cb713-28"><a href="errors.html#cb713-28" aria-hidden="true" tabindex="-1"></a>        logging.debug(<span class="ss">f&#39;Reading in </span><span class="sc">{</span>fname<span class="sc">}</span><span class="ss">...&#39;</span>)</span>
<span id="cb713-29"><a href="errors.html#cb713-29" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> fname[<span class="op">-</span><span class="dv">4</span>:] <span class="op">!=</span> <span class="st">&#39;.csv&#39;</span>:</span>
<span id="cb713-30"><a href="errors.html#cb713-30" aria-hidden="true" tabindex="-1"></a>            msg <span class="op">=</span> ERRORS[<span class="st">&#39;not_csv_suffix&#39;</span>].<span class="bu">format</span>(fname<span class="op">=</span>fname)</span>
<span id="cb713-31"><a href="errors.html#cb713-31" aria-hidden="true" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">OSError</span>(msg)</span>
<span id="cb713-32"><a href="errors.html#cb713-32" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(fname, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> reader:</span>
<span id="cb713-33"><a href="errors.html#cb713-33" aria-hidden="true" tabindex="-1"></a>            logging.debug(<span class="st">&#39;Computing word counts...&#39;</span>)</span>
<span id="cb713-34"><a href="errors.html#cb713-34" aria-hidden="true" tabindex="-1"></a>            update_counts(reader, word_counts)</span>
<span id="cb713-35"><a href="errors.html#cb713-35" aria-hidden="true" tabindex="-1"></a>    util.collection_to_csv(word_counts, num<span class="op">=</span>args.num)</span>
<span id="cb713-36"><a href="errors.html#cb713-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb713-37"><a href="errors.html#cb713-37" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&#39;__main__&#39;</span>:</span>
<span id="cb713-38"><a href="errors.html#cb713-38" aria-hidden="true" tabindex="-1"></a>    parser <span class="op">=</span> argparse.ArgumentParser(description<span class="op">=</span>__doc__)</span>
<span id="cb713-39"><a href="errors.html#cb713-39" aria-hidden="true" tabindex="-1"></a>    parser.add_argument(<span class="st">&#39;infiles&#39;</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">str</span>, nargs<span class="op">=</span><span class="st">&#39;*&#39;</span>, </span>
<span id="cb713-40"><a href="errors.html#cb713-40" aria-hidden="true" tabindex="-1"></a>                        <span class="bu">help</span><span class="op">=</span><span class="st">&#39;Input file names&#39;</span>)</span>
<span id="cb713-41"><a href="errors.html#cb713-41" aria-hidden="true" tabindex="-1"></a>    parser.add_argument(<span class="st">&#39;-n&#39;</span>, <span class="st">&#39;--num&#39;</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">int</span>, default<span class="op">=</span><span class="va">None</span>,</span>
<span id="cb713-42"><a href="errors.html#cb713-42" aria-hidden="true" tabindex="-1"></a>                        <span class="bu">help</span><span class="op">=</span><span class="st">&#39;Output only n most frequent words&#39;</span>)</span>
<span id="cb713-43"><a href="errors.html#cb713-43" aria-hidden="true" tabindex="-1"></a>    args <span class="op">=</span> parser.parse_args()</span>
<span id="cb713-44"><a href="errors.html#cb713-44" aria-hidden="true" tabindex="-1"></a>    main(args)</span></code></pre></div>
<p>Some of the following exercises will ask you to make further edits to <code>collate.py</code>.</p>
<div id="errors-ex-set-level" class="section level3" number="11.6.1">
<h3><span class="header-section-number">11.6.1</span> Set the logging level</h3>
<p>Define a new command line flag for <code>collate.py</code> called <code>--verbose</code> (or <code>-v</code>)
that changes the logging level from <code>WARNING</code> (the default)
to <code>DEBUG</code> (the noisiest level).</p>
<p>Hint: the following command changes the logging level to <code>DEBUG</code>:</p>
<div class="sourceCode" id="cb714"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb714-1"><a href="errors.html#cb714-1" aria-hidden="true" tabindex="-1"></a>logging.basicConfig(level<span class="op">=</span>logging.DEBUG)</span></code></pre></div>
<p>Once finished,
running <code>collate.py</code> with and without the <code>-v</code> flag should produce the following output:</p>
<div class="sourceCode" id="cb715"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb715-1"><a href="errors.html#cb715-1" aria-hidden="true" tabindex="-1"></a>$ <span class="ex">python</span> bin/collate.py results/dracula.csv results/moby_dick.csv</span>
<span id="cb715-2"><a href="errors.html#cb715-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">-n</span> 5</span></code></pre></div>
<pre class="text"><code>the,22559
and,12306
of,10446
to,9192
a,7629</code></pre>
<div class="sourceCode" id="cb717"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb717-1"><a href="errors.html#cb717-1" aria-hidden="true" tabindex="-1"></a>$ <span class="ex">python</span> bin/collate.py results/dracula.csv results/moby_dick.csv</span>
<span id="cb717-2"><a href="errors.html#cb717-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">-n</span> 5 -v</span></code></pre></div>
<pre class="text"><code>INFO:root:Processing files...
DEBUG:root:Reading in results/dracula.csv...
DEBUG:root:Computing word counts...
DEBUG:root:Reading in results/moby_dick.csv...
DEBUG:root:Computing word counts...
the,22559
and,12306
of,10446
to,9192
a,7629</code></pre>
</div>
<div id="errors-ex-logging-output" class="section level3" number="11.6.2">
<h3><span class="header-section-number">11.6.2</span> Send the logging output to file</h3>
<p>In Exercise <a href="errors.html#errors-ex-set-level">11.6.1</a>,
logging information is printed to the screen when the verbose flag is activated.
This is problematic if we want to re-direct the output from <code>collate.py</code> to a CSV file,
because the logging information will appear in the CSV file
as well as the words and their counts.</p>
<ol style="list-style-type: decimal">
<li><p>Edit <code>collate.py</code> so that the logging information is sent to a log file
called <code>collate.log</code> instead.
(HINT: <code>logging.basicConfig</code> has an argument called <code>filename</code>.)</p></li>
<li><p>Create a new command line option <code>-l</code> or <code>--logfile</code> so that the user
can specify a different name for the log file if they don’t like
the default name of <code>collate.log</code>.</p></li>
</ol>
</div>
<div id="errors-ex-exceptions" class="section level3" number="11.6.3">
<h3><span class="header-section-number">11.6.3</span> Handling exceptions</h3>
<ol style="list-style-type: decimal">
<li>Modify the script <code>collate.py</code> so that it catches any exceptions
that are raised when it tries to open files
and records them in the log file.
When you are finished,
the program should collate all the files it can
rather than halting as soon as it encounters a problem.</li>
<li>Modify your first solution to handle nonexistent files
and permission problems separately.</li>
</ol>
</div>
<div id="errors-ex-catalog" class="section level3" number="11.6.4">
<h3><span class="header-section-number">11.6.4</span> Error catalogs</h3>
<p>In Section <a href="errors.html#errors-messages">11.3</a> we started to define an error catalog called <code>ERRORS</code>.</p>
<ol style="list-style-type: decimal">
<li>Read Appendix <a href="style.html#style-pep8">G.1</a> and explain why we have used capital letters
for the name of the catalog.</li>
<li>Python has three ways to format strings:
the <code>%</code> operator, the <code>str.format</code> method, and f-strings (where the “f” stands for “format”).
Look up the documentation for each
and explain why we have to use <code>str.format</code> rather than f-strings
for formatting error messages in our catalog/lookup table.</li>
<li>There’s a good chance we will eventually want to use the error messages we’ve defined
in other scripts besides <code>collate.py</code>.
To avoid duplication,
move <code>ERRORS</code> to the <code>utilities</code> module that was first created in
Section <a href="scripting.html#py-rse-py-scripting-modules">5.8</a>.</li>
</ol>
</div>
<div id="errors-ex-traceback" class="section level3" number="11.6.5">
<h3><span class="header-section-number">11.6.5</span> Tracebacks</h3>
<p>Run the following code:</p>
<div class="sourceCode" id="cb719"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb719-1"><a href="errors.html#cb719-1" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb719-2"><a href="errors.html#cb719-2" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span><span class="op">/</span><span class="dv">0</span></span>
<span id="cb719-3"><a href="errors.html#cb719-3" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb719-4"><a href="errors.html#cb719-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">help</span>(e.__traceback__)</span></code></pre></div>
<ol style="list-style-type: decimal">
<li>What kind of object is <code>e.__traceback__</code>?</li>
<li>What useful information can you get from it?</li>
</ol>
</div>
</div>
<div id="errors-keypoints" class="section level2" number="11.7">
<h2><span class="header-section-number">11.7</span> Key Points</h2>
<ul>
<li>Signal errors by <a href="glossary.html#raise_exception">raising exceptions</a>.</li>
<li>Use <code>try</code>/<code>except</code> blocks to <a href="glossary.html#catch_exception">catch</a> and handle exceptions.</li>
<li>Python organizes its standard exceptions in a hierarchy so that programs can catch and handle them selectively.</li>
<li>“Throw low, catch high,” i.e., raise exceptions immediately but handle them at a higher level.</li>
<li>Write error messages that help users figure out what to do to fix the problem.</li>
<li>Store error messages in a lookup table to ensure consistency.</li>
<li>Use a <a href="glossary.html#logging_framework">logging framework</a> instead of <code>print</code> statements to report program activity.</li>
<li>Separate logging messages into <code>DEBUG</code>, <code>INFO</code>, <code>WARNING</code>, <code>ERROR</code>, and <code>CRITICAL</code> levels.</li>
<li>Use <code>logging.basicConfig</code> to define basic logging parameters.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="config.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="testing.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/merely-useful/py-rse/edit/book/chapters/errors.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/merely-useful/py-rse/blob/book/chapters/errors.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
